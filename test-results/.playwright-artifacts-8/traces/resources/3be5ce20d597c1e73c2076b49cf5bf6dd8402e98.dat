import { createHotContext as __vite__createHotContext } from "/@vite/client";import.meta.hot = __vite__createHotContext("/@fs/C:/Users/aintrona/Desktop/App/react/naj/libs/ui-organisms/src/lib/layout/StepHeader.tsx");import.meta.env = {"BASE_URL": "/", "DEV": true, "MODE": "development", "PROD": false, "SSR": false};import __vite__cjsImport0_react_jsxDevRuntime from "/@fs/C:/Users/aintrona/Desktop/App/react/naj/node_modules/.vite/apps/naj/deps/react_jsx-dev-runtime.js?v=0189a8d1"; const Fragment = __vite__cjsImport0_react_jsxDevRuntime["Fragment"]; const jsxDEV = __vite__cjsImport0_react_jsxDevRuntime["jsxDEV"];
import RefreshRuntime from "/@react-refresh";
const inWebWorker = typeof WorkerGlobalScope !== "undefined" && self instanceof WorkerGlobalScope;
let prevRefreshReg;
let prevRefreshSig;
if (import.meta.hot && !inWebWorker) {
  if (!window.__vite_plugin_react_preamble_installed__) {
    throw new Error("@vitejs/plugin-react can't detect preamble. Something is wrong. See https://github.com/vitejs/vite-plugin-react/pull/11#discussion_r430879201");
  }
  prevRefreshReg = window.$RefreshReg$;
  prevRefreshSig = window.$RefreshSig$;
  window.$RefreshReg$ = (type, id) => {
    RefreshRuntime.register(type, "C:/Users/aintrona/Desktop/App/react/naj/libs/ui-organisms/src/lib/layout/StepHeader.tsx " + id);
  };
  window.$RefreshSig$ = RefreshRuntime.createSignatureFunctionForTransform;
}
var _s = $RefreshSig$(), _s2 = $RefreshSig$(), _s3 = $RefreshSig$(), _s4 = $RefreshSig$();
globalThis.jotaiAtomCache = globalThis.jotaiAtomCache || { cache: /* @__PURE__ */ new Map(), get(name, inst) {
  if (this.cache.has(name)) {
    return this.cache.get(name);
  }
  this.cache.set(name, inst);
  return inst;
} };
import { restoreDevModeFromUrl } from "/@fs/C:/Users/aintrona/Desktop/App/react/naj/libs/data-access/src/index.ts";
import { useEngine } from "/@fs/C:/Users/aintrona/Desktop/App/react/naj/libs/engine/src/index.ts";
import { useCartState } from "/@fs/C:/Users/aintrona/Desktop/App/react/naj/libs/tracking-app/src/index.ts";
import { HeaderButton } from "/@fs/C:/Users/aintrona/Desktop/App/react/naj/libs/ui-atoms/src/index.ts";
import { BackIcon, CartIcon, CloseIcon } from "/@fs/C:/Users/aintrona/Desktop/App/react/naj/libs/ui-icons/src/index.ts";
import {
  Navbar,
  NavbarDesktop,
  NavbarMobile,
  UserMenuConnected
} from "/@fs/C:/Users/aintrona/Desktop/App/react/naj/libs/ui-molecules/src/index.ts";
import __vite__cjsImport9_react from "/@fs/C:/Users/aintrona/Desktop/App/react/naj/node_modules/.vite/apps/naj/deps/react.js?v=0189a8d1"; const useEffect = __vite__cjsImport9_react["useEffect"];
import { useTagId } from "/@fs/C:/Users/aintrona/Desktop/App/react/naj/libs/tracking-react/src/index.ts";
import { getTrackingTag } from "/@fs/C:/Users/aintrona/Desktop/App/react/naj/libs/util/src/index.ts";
import { SaveModalProvider } from "/@fs/C:/Users/aintrona/Desktop/App/react/naj/libs/ui-organisms/src/lib/SaveButton/SaveButton.tsx";
import { SaveButtonDesktop } from "/@fs/C:/Users/aintrona/Desktop/App/react/naj/libs/ui-organisms/src/lib/SaveButton/SaveButtonDesktop.tsx";
import { SaveButtonMobile } from "/@fs/C:/Users/aintrona/Desktop/App/react/naj/libs/ui-organisms/src/lib/SaveButton/SaveButtonMobile.tsx";
export function StepHeader({ isLastStep, isFirstStep }) {
  _s();
  const { progress } = useEngine();
  return /* @__PURE__ */ jsxDEV(SaveModalProvider, { children: /* @__PURE__ */ jsxDEV(
    Navbar,
    {
      desktop: /* @__PURE__ */ jsxDEV(HeaderDesktop, { isLastStep }, void 0, false, {
        fileName: "C:/Users/aintrona/Desktop/App/react/naj/libs/ui-organisms/src/lib/layout/StepHeader.tsx",
        lineNumber: 31,
        columnNumber: 18
      }, this),
      mobile: /* @__PURE__ */ jsxDEV(HeaderMobile, { isFirstStep }, void 0, false, {
        fileName: "C:/Users/aintrona/Desktop/App/react/naj/libs/ui-organisms/src/lib/layout/StepHeader.tsx",
        lineNumber: 32,
        columnNumber: 17
      }, this),
      progress
    },
    void 0,
    false,
    {
      fileName: "C:/Users/aintrona/Desktop/App/react/naj/libs/ui-organisms/src/lib/layout/StepHeader.tsx",
      lineNumber: 30,
      columnNumber: 7
    },
    this
  ) }, void 0, false, {
    fileName: "C:/Users/aintrona/Desktop/App/react/naj/libs/ui-organisms/src/lib/layout/StepHeader.tsx",
    lineNumber: 29,
    columnNumber: 5
  }, this);
}
_s(StepHeader, "XKNGZdSy4PScKK3RysQaaTDzXto=", false, function() {
  return [useEngine];
});
_c = StepHeader;
const ENABLE_SAVE_BUTTON = !import.meta.env.PROD || restoreDevModeFromUrl();
function HeaderDesktop({ isLastStep }) {
  _s2();
  useHideCartOnMobile();
  return /* @__PURE__ */ jsxDEV(
    NavbarDesktop,
    {
      right: /* @__PURE__ */ jsxDEV(Fragment, { children: [
        ENABLE_SAVE_BUTTON && /* @__PURE__ */ jsxDEV(SaveButtonDesktop, {}, void 0, false, {
          fileName: "C:/Users/aintrona/Desktop/App/react/naj/libs/ui-organisms/src/lib/layout/StepHeader.tsx",
          lineNumber: 47,
          columnNumber: 34
        }, this),
        /* @__PURE__ */ jsxDEV(UserMenuConnected, { isLastStep }, void 0, false, {
          fileName: "C:/Users/aintrona/Desktop/App/react/naj/libs/ui-organisms/src/lib/layout/StepHeader.tsx",
          lineNumber: 48,
          columnNumber: 11
        }, this)
      ] }, void 0, true, {
        fileName: "C:/Users/aintrona/Desktop/App/react/naj/libs/ui-organisms/src/lib/layout/StepHeader.tsx",
        lineNumber: 46,
        columnNumber: 7
      }, this)
    },
    void 0,
    false,
    {
      fileName: "C:/Users/aintrona/Desktop/App/react/naj/libs/ui-organisms/src/lib/layout/StepHeader.tsx",
      lineNumber: 44,
      columnNumber: 5
    },
    this
  );
}
_s2(HeaderDesktop, "iy2T5LAThtXX8h8w11JpunoZuKk=", false, function() {
  return [useHideCartOnMobile];
});
_c2 = HeaderDesktop;
function HeaderMobile({ isFirstStep }) {
  _s3();
  const { prev } = useEngine();
  const { showCart, hideCart, cartButton, cartShown } = useCartState();
  const tagId = useTagId();
  return /* @__PURE__ */ jsxDEV(
    NavbarMobile,
    {
      left: cartShown ? /* @__PURE__ */ jsxDEV(SaveButtonMobile, {}, void 0, false, {
        fileName: "C:/Users/aintrona/Desktop/App/react/naj/libs/ui-organisms/src/lib/layout/StepHeader.tsx",
        lineNumber: 64,
        columnNumber: 7
      }, this) : /* @__PURE__ */ jsxDEV(
        HeaderButton,
        {
          onClick: prev,
          icon: BackIcon,
          "data-cs-override-id": getTrackingTag("BACK_BUTTON_MOBILE", tagId),
          children: "Indietro"
        },
        void 0,
        false,
        {
          fileName: "C:/Users/aintrona/Desktop/App/react/naj/libs/ui-organisms/src/lib/layout/StepHeader.tsx",
          lineNumber: 66,
          columnNumber: 7
        },
        this
      ),
      right: !isFirstStep && (cartButton === "close" ? /* @__PURE__ */ jsxDEV(
        HeaderButton,
        {
          onClick: hideCart,
          icon: CloseIcon,
          "data-cs-override-id": getTrackingTag(
            "BUTTON_HIDE_CART_MOBILE",
            tagId
          ),
          children: "Chiudi"
        },
        void 0,
        false,
        {
          fileName: "C:/Users/aintrona/Desktop/App/react/naj/libs/ui-organisms/src/lib/layout/StepHeader.tsx",
          lineNumber: 78,
          columnNumber: 7
        },
        this
      ) : cartButton === "open" ? /* @__PURE__ */ jsxDEV(
        HeaderButton,
        {
          onClick: showCart,
          icon: CartIcon,
          "data-cs-override-id": getTrackingTag(
            "BUTTON_SHOW_CART_MOBILE",
            tagId
          ),
          children: "Riepilogo"
        },
        void 0,
        false,
        {
          fileName: "C:/Users/aintrona/Desktop/App/react/naj/libs/ui-organisms/src/lib/layout/StepHeader.tsx",
          lineNumber: 89,
          columnNumber: 7
        },
        this
      ) : null)
    },
    void 0,
    false,
    {
      fileName: "C:/Users/aintrona/Desktop/App/react/naj/libs/ui-organisms/src/lib/layout/StepHeader.tsx",
      lineNumber: 61,
      columnNumber: 5
    },
    this
  );
}
_s3(HeaderMobile, "Ykrsovwc5WERc9u86l9+xZuEvHY=", false, function() {
  return [useEngine, useCartState, useTagId];
});
_c3 = HeaderMobile;
function useHideCartOnMobile() {
  _s4();
  const { hideCart } = useCartState();
  useEffect(() => {
    hideCart();
  }, [hideCart]);
}
_s4(useHideCartOnMobile, "+G0nomWRXjL4HDb9seahwJW/qz8=", false, function() {
  return [useCartState];
});
var _c, _c2, _c3;
$RefreshReg$(_c, "StepHeader");
$RefreshReg$(_c2, "HeaderDesktop");
$RefreshReg$(_c3, "HeaderMobile");
if (import.meta.hot && !inWebWorker) {
  window.$RefreshReg$ = prevRefreshReg;
  window.$RefreshSig$ = prevRefreshSig;
}
if (import.meta.hot && !inWebWorker) {
  RefreshRuntime.__hmr_import(import.meta.url).then((currentExports) => {
    RefreshRuntime.registerExportsForReactRefresh("C:/Users/aintrona/Desktop/App/react/naj/libs/ui-organisms/src/lib/layout/StepHeader.tsx", currentExports);
    import.meta.hot.accept((nextExports) => {
      if (!nextExports) return;
      const invalidateMessage = RefreshRuntime.validateRefreshBoundaryAndEnqueueUpdate(currentExports, nextExports);
      if (invalidateMessage) import.meta.hot.invalidate(invalidateMessage);
    });
  });
}

//# sourceMappingURL=data:application/json;base64,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QUFBQTtBQUFBLFFBTko7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLE1BU0EsSUFDRUYsZUFBZSxTQUNqQjtBQUFBLFFBQUM7QUFBQTtBQUFBLFVBQ0MsU0FBU0Y7QUFBQUEsVUFDVCxNQUFNN0I7QUFBQUEsVUFDTix1QkFBcUJRO0FBQUFBLFlBQ25CO0FBQUEsWUFDQXlCO0FBQUFBLFVBQ0Y7QUFBQSxVQUFFO0FBQUE7QUFBQSxRQU5KO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxNQVNBLElBQ0U7QUFBQTtBQUFBLElBdENSO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQXVDRztBQUdQO0FBQUNOLElBaERRRCxjQUFZO0FBQUEsVUFDRjlCLFdBQ3FDQyxjQUN4Q1UsUUFBUTtBQUFBO0FBQUEyQixNQUhmUjtBQWtEVCxTQUFTRixzQkFBc0I7QUFBQVcsTUFBQTtBQUM3QixRQUFNLEVBQUVMLFNBQVMsSUFBSWpDLGFBQWE7QUFFbENTLFlBQVUsTUFBTTtBQUNkd0IsYUFBUztBQUFBLEVBQ1gsR0FBRyxDQUFDQSxRQUFRLENBQUM7QUFDZjtBQUFDSyxJQU5RWCxxQkFBbUI7QUFBQSxVQUNMM0IsWUFBWTtBQUFBO0FBQUEsSUFBQW9CLElBQUFRLEtBQUFTO0FBQUFFLGFBQUFuQixJQUFBO0FBQUFtQixhQUFBWCxLQUFBO0FBQUFXLGFBQUFGLEtBQUEiLCJuYW1lcyI6WyJyZXN0b3JlRGV2TW9kZUZyb21VcmwiLCJ1c2VFbmdpbmUiLCJ1c2VDYXJ0U3RhdGUiLCJIZWFkZXJCdXR0b24iLCJCYWNrSWNvbiIsIkNhcnRJY29uIiwiQ2xvc2VJY29uIiwiTmF2YmFyIiwiTmF2YmFyRGVza3RvcCIsIk5hdmJhck1vYmlsZSIsIlVzZXJNZW51Q29ubmVjdGVkIiwidXNlRWZmZWN0IiwidXNlVGFnSWQiLCJnZXRUcmFja2luZ1RhZyIsIlNhdmVNb2RhbFByb3ZpZGVyIiwiU2F2ZUJ1dHRvbkRlc2t0b3AiLCJTYXZlQnV0dG9uTW9iaWxlIiwiU3RlcEhlYWRlciIsImlzTGFzdFN0ZXAiLCJpc0ZpcnN0U3RlcCIsIl9zIiwicHJvZ3Jlc3MiLCJfYyIsIkVOQUJMRV9TQVZFX0JVVFRPTiIsImltcG9ydCIsImVudiIsIlBST0QiLCJIZWFkZXJEZXNrdG9wIiwiX3MyIiwidXNlSGlkZUNhcnRPbk1vYmlsZSIsIl9jMiIsIkhlYWRlck1vYmlsZSIsIl9zMyIsInByZXYiLCJzaG93Q2FydCIsImhpZGVDYXJ0IiwiY2FydEJ1dHRvbiIsImNhcnRTaG93biIsInRhZ0lkIiwiX2MzIiwiX3M0IiwiJFJlZnJlc2hSZWckIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VzIjpbIlN0ZXBIZWFkZXIudHN4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHJlc3RvcmVEZXZNb2RlRnJvbVVybCB9IGZyb20gJ0BuYWotd28vZGF0YS1hY2Nlc3MnO1xyXG5pbXBvcnQgeyB1c2VFbmdpbmUgfSBmcm9tICdAbmFqLXdvL2VuZ2luZSc7XHJcbmltcG9ydCB7IHVzZUNhcnRTdGF0ZSB9IGZyb20gJ0BuYWotd28vdHJhY2tpbmctYXBwJztcclxuaW1wb3J0IHsgSGVhZGVyQnV0dG9uIH0gZnJvbSAnQG5hai13by91aS1hdG9tcyc7XHJcbmltcG9ydCB7IEJhY2tJY29uLCBDYXJ0SWNvbiwgQ2xvc2VJY29uIH0gZnJvbSAnQG5hai13by91aS1pY29ucyc7XHJcbmltcG9ydCB7XHJcbiAgTmF2YmFyLFxyXG4gIE5hdmJhckRlc2t0b3AsXHJcbiAgTmF2YmFyTW9iaWxlLFxyXG4gIFVzZXJNZW51Q29ubmVjdGVkLFxyXG59IGZyb20gJ0BuYWotd28vdWktbW9sZWN1bGVzJztcclxuaW1wb3J0IHsgdXNlRWZmZWN0IH0gZnJvbSAncmVhY3QnO1xyXG5cclxuaW1wb3J0IHsgdXNlVGFnSWQgfSBmcm9tICdAbmFqLXdvL3RyYWNraW5nLXJlYWN0JztcclxuaW1wb3J0IHsgZ2V0VHJhY2tpbmdUYWcgfSBmcm9tICdAbmFqLXdvL3V0aWwnO1xyXG5pbXBvcnQgeyBTYXZlTW9kYWxQcm92aWRlciB9IGZyb20gJy4uL1NhdmVCdXR0b24vU2F2ZUJ1dHRvbic7XHJcbmltcG9ydCB7IFNhdmVCdXR0b25EZXNrdG9wIH0gZnJvbSAnLi4vU2F2ZUJ1dHRvbi9TYXZlQnV0dG9uRGVza3RvcCc7XHJcbmltcG9ydCB7IFNhdmVCdXR0b25Nb2JpbGUgfSBmcm9tICcuLi9TYXZlQnV0dG9uL1NhdmVCdXR0b25Nb2JpbGUnO1xyXG5cclxudHlwZSBIZWFkZXJQcm9wcyA9IHtcclxuICBpc0xhc3RTdGVwPzogYm9vbGVhbjtcclxuICBpc0ZpcnN0U3RlcD86IGJvb2xlYW47XHJcbn07XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gU3RlcEhlYWRlcih7IGlzTGFzdFN0ZXAsIGlzRmlyc3RTdGVwIH06IEhlYWRlclByb3BzKSB7XHJcbiAgY29uc3QgeyBwcm9ncmVzcyB9ID0gdXNlRW5naW5lKCk7XHJcblxyXG4gIHJldHVybiAoXHJcbiAgICA8U2F2ZU1vZGFsUHJvdmlkZXI+XHJcbiAgICAgIDxOYXZiYXJcclxuICAgICAgICBkZXNrdG9wPXs8SGVhZGVyRGVza3RvcCBpc0xhc3RTdGVwPXtpc0xhc3RTdGVwfSAvPn1cclxuICAgICAgICBtb2JpbGU9ezxIZWFkZXJNb2JpbGUgaXNGaXJzdFN0ZXA9e2lzRmlyc3RTdGVwfSAvPn1cclxuICAgICAgICBwcm9ncmVzcz17cHJvZ3Jlc3N9XHJcbiAgICAgIC8+XHJcbiAgICA8L1NhdmVNb2RhbFByb3ZpZGVyPlxyXG4gICk7XHJcbn1cclxuXHJcbmNvbnN0IEVOQUJMRV9TQVZFX0JVVFRPTiA9ICFpbXBvcnQubWV0YS5lbnYuUFJPRCB8fCByZXN0b3JlRGV2TW9kZUZyb21VcmwoKTtcclxuXHJcbmZ1bmN0aW9uIEhlYWRlckRlc2t0b3AoeyBpc0xhc3RTdGVwIH06IEhlYWRlclByb3BzKSB7XHJcbiAgdXNlSGlkZUNhcnRPbk1vYmlsZSgpO1xyXG4gIHJldHVybiAoXHJcbiAgICA8TmF2YmFyRGVza3RvcFxyXG4gICAgICByaWdodD17XHJcbiAgICAgICAgPD5cclxuICAgICAgICAgIHtFTkFCTEVfU0FWRV9CVVRUT04gJiYgPFNhdmVCdXR0b25EZXNrdG9wIC8+fVxyXG4gICAgICAgICAgPFVzZXJNZW51Q29ubmVjdGVkIGlzTGFzdFN0ZXA9e2lzTGFzdFN0ZXB9IC8+XHJcbiAgICAgICAgPC8+XHJcbiAgICAgIH1cclxuICAgIC8+XHJcbiAgKTtcclxufVxyXG5cclxuZnVuY3Rpb24gSGVhZGVyTW9iaWxlKHsgaXNGaXJzdFN0ZXAgfTogSGVhZGVyUHJvcHMpIHtcclxuICBjb25zdCB7IHByZXYgfSA9IHVzZUVuZ2luZSgpO1xyXG4gIGNvbnN0IHsgc2hvd0NhcnQsIGhpZGVDYXJ0LCBjYXJ0QnV0dG9uLCBjYXJ0U2hvd24gfSA9IHVzZUNhcnRTdGF0ZSgpO1xyXG4gIGNvbnN0IHRhZ0lkID0gdXNlVGFnSWQoKTtcclxuXHJcbiAgcmV0dXJuIChcclxuICAgIDxOYXZiYXJNb2JpbGVcclxuICAgICAgbGVmdD17XHJcbiAgICAgICAgY2FydFNob3duID8gKFxyXG4gICAgICAgICAgPFNhdmVCdXR0b25Nb2JpbGUgLz5cclxuICAgICAgICApIDogKFxyXG4gICAgICAgICAgPEhlYWRlckJ1dHRvblxyXG4gICAgICAgICAgICBvbkNsaWNrPXtwcmV2fVxyXG4gICAgICAgICAgICBpY29uPXtCYWNrSWNvbn1cclxuICAgICAgICAgICAgZGF0YS1jcy1vdmVycmlkZS1pZD17Z2V0VHJhY2tpbmdUYWcoJ0JBQ0tfQlVUVE9OX01PQklMRScsIHRhZ0lkKX1cclxuICAgICAgICAgID5cclxuICAgICAgICAgICAgSW5kaWV0cm9cclxuICAgICAgICAgIDwvSGVhZGVyQnV0dG9uPlxyXG4gICAgICAgIClcclxuICAgICAgfVxyXG4gICAgICByaWdodD17XHJcbiAgICAgICAgIWlzRmlyc3RTdGVwICYmXHJcbiAgICAgICAgKGNhcnRCdXR0b24gPT09ICdjbG9zZScgPyAoXHJcbiAgICAgICAgICA8SGVhZGVyQnV0dG9uXHJcbiAgICAgICAgICAgIG9uQ2xpY2s9e2hpZGVDYXJ0fVxyXG4gICAgICAgICAgICBpY29uPXtDbG9zZUljb259IC8vIENhbWJpYSBpY29uYSBpbiBiYXNlIGEgY2FydFNob3duXHJcbiAgICAgICAgICAgIGRhdGEtY3Mtb3ZlcnJpZGUtaWQ9e2dldFRyYWNraW5nVGFnKFxyXG4gICAgICAgICAgICAgICdCVVRUT05fSElERV9DQVJUX01PQklMRScsXHJcbiAgICAgICAgICAgICAgdGFnSWRcclxuICAgICAgICAgICAgKX1cclxuICAgICAgICAgID5cclxuICAgICAgICAgICAgQ2hpdWRpXHJcbiAgICAgICAgICA8L0hlYWRlckJ1dHRvbj5cclxuICAgICAgICApIDogY2FydEJ1dHRvbiA9PT0gJ29wZW4nID8gKFxyXG4gICAgICAgICAgPEhlYWRlckJ1dHRvblxyXG4gICAgICAgICAgICBvbkNsaWNrPXtzaG93Q2FydH1cclxuICAgICAgICAgICAgaWNvbj17Q2FydEljb259XHJcbiAgICAgICAgICAgIGRhdGEtY3Mtb3ZlcnJpZGUtaWQ9e2dldFRyYWNraW5nVGFnKFxyXG4gICAgICAgICAgICAgICdCVVRUT05fU0hPV19DQVJUX01PQklMRScsXHJcbiAgICAgICAgICAgICAgdGFnSWRcclxuICAgICAgICAgICAgKX1cclxuICAgICAgICAgID5cclxuICAgICAgICAgICAgUmllcGlsb2dvXHJcbiAgICAgICAgICA8L0hlYWRlckJ1dHRvbj5cclxuICAgICAgICApIDogbnVsbClcclxuICAgICAgfVxyXG4gICAgLz5cclxuICApO1xyXG59XHJcblxyXG5mdW5jdGlvbiB1c2VIaWRlQ2FydE9uTW9iaWxlKCkge1xyXG4gIGNvbnN0IHsgaGlkZUNhcnQgfSA9IHVzZUNhcnRTdGF0ZSgpO1xyXG5cclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgaGlkZUNhcnQoKTtcclxuICB9LCBbaGlkZUNhcnRdKTtcclxufVxyXG4iXSwiZmlsZSI6IkM6L1VzZXJzL2FpbnRyb25hL0Rlc2t0b3AvQXBwL3JlYWN0L25hai9saWJzL3VpLW9yZ2FuaXNtcy9zcmMvbGliL2xheW91dC9TdGVwSGVhZGVyLnRzeCJ9