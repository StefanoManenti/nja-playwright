globalThis.jotaiAtomCache = globalThis.jotaiAtomCache || {
  cache: /* @__PURE__ */ new Map(),
  get(name, inst) {
    if (this.cache.has(name)) {
      return this.cache.get(name);
    }
    this.cache.set(name, inst);
    return inst;
  }
};
import { generaCorrispettiviFixa } from "/@fs/C:/Users/aintrona/Desktop/App/react/naj/libs/data-access/src/lib/offerta/corrispettivi/corrispettivi-fixa.ts";
import { generaCorrispettiviSmall } from "/@fs/C:/Users/aintrona/Desktop/App/react/naj/libs/data-access/src/lib/offerta/corrispettivi/corrispettivi-small.ts";
import { generaCorrispettiviTrend } from "/@fs/C:/Users/aintrona/Desktop/App/react/naj/libs/data-access/src/lib/offerta/corrispettivi/corrispettivi-trend.ts";
import { generaCorrispettiviVulnerabili } from "/@fs/C:/Users/aintrona/Desktop/App/react/naj/libs/data-access/src/lib/offerta/corrispettivi/corrispettivi-vulnerabili.ts";
import { couponBeforeReturn } from "/@fs/C:/Users/aintrona/Desktop/App/react/naj/libs/data-access/src/lib/offerta/corrispettivi/coupon.ts";
import { Segment } from "/@fs/C:/Users/aintrona/Desktop/App/react/naj/libs/data-access/src/lib/atoms/enums.ts";
export function generaCorrispettivi(offer, opzioni, scontistica = {}) {
  const toReturn = _generaCorrispettivi(offer, opzioni, scontistica);
  couponBeforeReturn(offer, scontistica, toReturn);
  return toReturn;
}
function _generaCorrispettivi(offer, opzioni, scontistica = {}) {
  if (offer.settore === Segment.SMALL) {
    const pricesAndDiscounts = generaCorrispettiviSmall(offer, opzioni, scontistica);
    console.log(pricesAndDiscounts);
    return pricesAndDiscounts;
  }
  const isOffertaTrend = offer.codice.match(/(TREND|TCASA)/);
  if (isOffertaTrend) {
    return generaCorrispettiviTrend(offer, opzioni, scontistica);
  }
  const isOffertaVulnerabili = offer.codice.match(/(TRVULN)/);
  if (isOffertaVulnerabili) {
    return generaCorrispettiviVulnerabili(offer, opzioni, scontistica);
  }
  return generaCorrispettiviFixa(offer, opzioni, scontistica);
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUNBLFNBQVNBLCtCQUErQjtBQUN4QyxTQUFTQyxnQ0FBZ0M7QUFDekMsU0FBU0MsZ0NBQWdDO0FBQ3pDLFNBQVNDLHNDQUFzQztBQUMvQyxTQUFTQywwQkFBMEI7QUFHbkMsU0FBU0MsZUFBZTtBQUVqQixnQkFBU0Msb0JBQ2RDLE9BQ0FDLFNBQ0FDLGNBQTJCLENBQUMsR0FDUjtBQUNwQixRQUFNQyxXQUFXQyxxQkFBcUJKLE9BQU9DLFNBQVNDLFdBQVc7QUFDakVMLHFCQUFtQkcsT0FBT0UsYUFBYUMsUUFBUTtBQUUvQyxTQUFPQTtBQUNUO0FBRUEsU0FBU0MscUJBQ1BKLE9BQ0FDLFNBQ0FDLGNBQTJCLENBQUMsR0FDUjtBQUNwQixNQUFJRixNQUFNSyxZQUFZUCxRQUFRUSxPQUFPO0FBQ25DLFVBQU1DLHFCQUFxQmIseUJBQ3pCTSxPQUNBQyxTQUNBQyxXQUNGO0FBQ0FNLFlBQVFDLElBQUlGLGtCQUFrQjtBQUM5QixXQUFPQTtBQUFBQSxFQUNUO0FBRUEsUUFBTUcsaUJBQWlCVixNQUFNVyxPQUFPQyxNQUFNLGVBQWU7QUFDekQsTUFBSUYsZ0JBQWdCO0FBQ2xCLFdBQU9mLHlCQUF5QkssT0FBT0MsU0FBU0MsV0FBVztBQUFBLEVBQzdEO0FBRUEsUUFBTVcsdUJBQXVCYixNQUFNVyxPQUFPQyxNQUFNLFVBQVU7QUFDMUQsTUFBSUMsc0JBQXNCO0FBQ3hCLFdBQU9qQiwrQkFBK0JJLE9BQU9DLFNBQVNDLFdBQVc7QUFBQSxFQUNuRTtBQUVBLFNBQU9ULHdCQUF3Qk8sT0FBT0MsU0FBU0MsV0FBVztBQUM1RCIsIm5hbWVzIjpbImdlbmVyYUNvcnJpc3BldHRpdmlGaXhhIiwiZ2VuZXJhQ29ycmlzcGV0dGl2aVNtYWxsIiwiZ2VuZXJhQ29ycmlzcGV0dGl2aVRyZW5kIiwiZ2VuZXJhQ29ycmlzcGV0dGl2aVZ1bG5lcmFiaWxpIiwiY291cG9uQmVmb3JlUmV0dXJuIiwiU2VnbWVudCIsImdlbmVyYUNvcnJpc3BldHRpdmkiLCJvZmZlciIsIm9wemlvbmkiLCJzY29udGlzdGljYSIsInRvUmV0dXJuIiwiX2dlbmVyYUNvcnJpc3BldHRpdmkiLCJzZXR0b3JlIiwiU01BTEwiLCJwcmljZXNBbmREaXNjb3VudHMiLCJjb25zb2xlIiwibG9nIiwiaXNPZmZlcnRhVHJlbmQiLCJjb2RpY2UiLCJtYXRjaCIsImlzT2ZmZXJ0YVZ1bG5lcmFiaWxpIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VzIjpbImNvcnJpc3BldHRpdmkudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgT2ZmZXJ0YVN0YXRlRm9yQ29ycmlzcGV0dGl2aSwgT3B6aW9uaSB9IGZyb20gJy4uL3R5cGVzJztcclxuaW1wb3J0IHsgZ2VuZXJhQ29ycmlzcGV0dGl2aUZpeGEgfSBmcm9tICcuL2NvcnJpc3BldHRpdmktZml4YSc7XHJcbmltcG9ydCB7IGdlbmVyYUNvcnJpc3BldHRpdmlTbWFsbCB9IGZyb20gJy4vY29ycmlzcGV0dGl2aS1zbWFsbCc7XHJcbmltcG9ydCB7IGdlbmVyYUNvcnJpc3BldHRpdmlUcmVuZCB9IGZyb20gJy4vY29ycmlzcGV0dGl2aS10cmVuZCc7XHJcbmltcG9ydCB7IGdlbmVyYUNvcnJpc3BldHRpdmlWdWxuZXJhYmlsaSB9IGZyb20gJy4vY29ycmlzcGV0dGl2aS12dWxuZXJhYmlsaSc7XHJcbmltcG9ydCB7IGNvdXBvbkJlZm9yZVJldHVybiB9IGZyb20gJy4vY291cG9uJztcclxuaW1wb3J0IHsgUHJpY2VzQW5kRGlzY291bnRzIH0gZnJvbSAnLi9wcmljZXMnO1xyXG5pbXBvcnQgeyBTY29udGlzdGljYSB9IGZyb20gJy4vc2NvbnRpc3RpY2EnO1xyXG5pbXBvcnQgeyBTZWdtZW50IH0gZnJvbSAnLi4vLi4vYXRvbXMvZW51bXMnO1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGdlbmVyYUNvcnJpc3BldHRpdmkoXHJcbiAgb2ZmZXI6IE9mZmVydGFTdGF0ZUZvckNvcnJpc3BldHRpdmksXHJcbiAgb3B6aW9uaTogT3B6aW9uaSxcclxuICBzY29udGlzdGljYTogU2NvbnRpc3RpY2EgPSB7fVxyXG4pOiBQcmljZXNBbmREaXNjb3VudHMge1xyXG4gIGNvbnN0IHRvUmV0dXJuID0gX2dlbmVyYUNvcnJpc3BldHRpdmkob2ZmZXIsIG9wemlvbmksIHNjb250aXN0aWNhKTtcclxuICBjb3Vwb25CZWZvcmVSZXR1cm4ob2ZmZXIsIHNjb250aXN0aWNhLCB0b1JldHVybik7XHJcblxyXG4gIHJldHVybiB0b1JldHVybjtcclxufVxyXG5cclxuZnVuY3Rpb24gX2dlbmVyYUNvcnJpc3BldHRpdmkoXHJcbiAgb2ZmZXI6IE9mZmVydGFTdGF0ZUZvckNvcnJpc3BldHRpdmksXHJcbiAgb3B6aW9uaTogT3B6aW9uaSxcclxuICBzY29udGlzdGljYTogU2NvbnRpc3RpY2EgPSB7fVxyXG4pOiBQcmljZXNBbmREaXNjb3VudHMge1xyXG4gIGlmIChvZmZlci5zZXR0b3JlID09PSBTZWdtZW50LlNNQUxMKSB7XHJcbiAgICBjb25zdCBwcmljZXNBbmREaXNjb3VudHMgPSBnZW5lcmFDb3JyaXNwZXR0aXZpU21hbGwoXHJcbiAgICAgIG9mZmVyLFxyXG4gICAgICBvcHppb25pLFxyXG4gICAgICBzY29udGlzdGljYVxyXG4gICAgKTtcclxuICAgIGNvbnNvbGUubG9nKHByaWNlc0FuZERpc2NvdW50cyk7XHJcbiAgICByZXR1cm4gcHJpY2VzQW5kRGlzY291bnRzO1xyXG4gIH1cclxuXHJcbiAgY29uc3QgaXNPZmZlcnRhVHJlbmQgPSBvZmZlci5jb2RpY2UubWF0Y2goLyhUUkVORHxUQ0FTQSkvKTtcclxuICBpZiAoaXNPZmZlcnRhVHJlbmQpIHtcclxuICAgIHJldHVybiBnZW5lcmFDb3JyaXNwZXR0aXZpVHJlbmQob2ZmZXIsIG9wemlvbmksIHNjb250aXN0aWNhKTtcclxuICB9XHJcblxyXG4gIGNvbnN0IGlzT2ZmZXJ0YVZ1bG5lcmFiaWxpID0gb2ZmZXIuY29kaWNlLm1hdGNoKC8oVFJWVUxOKS8pO1xyXG4gIGlmIChpc09mZmVydGFWdWxuZXJhYmlsaSkge1xyXG4gICAgcmV0dXJuIGdlbmVyYUNvcnJpc3BldHRpdmlWdWxuZXJhYmlsaShvZmZlciwgb3B6aW9uaSwgc2NvbnRpc3RpY2EpO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIGdlbmVyYUNvcnJpc3BldHRpdmlGaXhhKG9mZmVyLCBvcHppb25pLCBzY29udGlzdGljYSk7XHJcbn1cclxuIl0sImZpbGUiOiJDOi9Vc2Vycy9haW50cm9uYS9EZXNrdG9wL0FwcC9yZWFjdC9uYWovbGlicy9kYXRhLWFjY2Vzcy9zcmMvbGliL29mZmVydGEvY29ycmlzcGV0dGl2aS9jb3JyaXNwZXR0aXZpLnRzIn0=