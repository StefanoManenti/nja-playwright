globalThis.jotaiAtomCache = globalThis.jotaiAtomCache || {
  cache: /* @__PURE__ */ new Map(),
  get(name, inst) {
    if (this.cache.has(name)) {
      return this.cache.get(name);
    }
    this.cache.set(name, inst);
    return inst;
  }
};
import { toLocalizedYesNo } from "/@fs/C:/Users/aintrona/Desktop/App/react/naj/libs/util/src/index.ts";
import { atom } from "/@fs/C:/Users/aintrona/Desktop/App/react/naj/node_modules/.vite/apps/naj/deps/jotai.js?v=0189a8d1";
import { gasAtom } from "/@fs/C:/Users/aintrona/Desktop/App/react/naj/libs/data-access/src/lib/troubleshooting/atoms.ts";
import { supplyAddressSelectedAtom } from "/@fs/C:/Users/aintrona/Desktop/App/react/naj/libs/data-access/src/lib/atoms/account-selected-atoms.ts";
import { customerAtom } from "/@fs/C:/Users/aintrona/Desktop/App/react/naj/libs/data-access/src/lib/atoms/customer-atoms.ts";
import { isOfferForVulnerableUsers } from "/@fs/C:/Users/aintrona/Desktop/App/react/naj/libs/data-access/src/lib/atoms/offer-atoms.ts";
import { atomWithNested, atomWithNestedReadable } from "/@fs/C:/Users/aintrona/Desktop/App/react/naj/libs/data-access/src/lib/atoms/utils/atom-with-nested.ts";
import { vulnerabilitySelfCertificationFlags$ } from "/@fs/C:/Users/aintrona/Desktop/App/react/naj/libs/data-access/src/lib/atoms/vulnerability/vulnerability.ts";
export const profile$ = globalThis.jotaiAtomCache.get("C:\\Users\\aintrona\\Desktop\\App\\react\\naj\\libs\\data-access\\src\\lib\\atoms\\profile-atoms.ts/profile$", atom(async (get) => {
  const customer = await get(customerAtom);
  return customer.profile;
}));
profile$.debugLabel = "profile$";
export const givenNameAtom = atomWithNested(profile$, "givenName$");
export const familyNameAtom = atomWithNested(profile$, "familyName$");
export const telephoneAtom = atomWithNested(profile$, "telephone$");
export const emailAtom = atomWithNested(profile$, "email$");
export const emailCryptAtom = atomWithNested(profile$, "emailCrypt$");
export const taxIdAtom = atomWithNested(profile$, "taxId$");
export const legalFormAtom = atomWithNested(profile$, "legalForm$");
export const businessNameAtom = atomWithNested(profile$, "businessName$");
export const legalRepresentativeAtom = atomWithNested(profile$, "legalRepresentative$");
export const vatNumberAtom = atomWithNested(profile$, "vatNumber$");
export const taxIdOrVatNumberAtom = globalThis.jotaiAtomCache.get("C:\\Users\\aintrona\\Desktop\\App\\react\\naj\\libs\\data-access\\src\\lib\\atoms\\profile-atoms.ts/taxIdOrVatNumberAtom", atom(async (get) => {
  return await get(vatNumberAtom) || await get(taxIdAtom);
}));
taxIdOrVatNumberAtom.debugLabel = "taxIdOrVatNumberAtom";
export const privacyAtom = atomWithNested(profile$, "privacy$");
export const customerVulnerableAtom = atomWithNested(profile$, "vulnerable$");
export const addressAtom = atomWithNested(profile$, "address$");
export const addressAsStringAtom = atomWithNestedReadable(profile$, "addressAsString$");
export const residentialAddressSameAsSupplyAtom = globalThis.jotaiAtomCache.get("C:\\Users\\aintrona\\Desktop\\App\\react\\naj\\libs\\data-access\\src\\lib\\atoms\\profile-atoms.ts/residentialAddressSameAsSupplyAtom", atom(async (get) => {
  const addressSupply = await get(supplyAddressSelectedAtom);
  const addressResidential = await get(addressAtom);
  return addressResidential?.egonCodeNumber === addressSupply?.egonCodeNumber;
}));
residentialAddressSameAsSupplyAtom.debugLabel = "residentialAddressSameAsSupplyAtom";
export const residentialAddressSameAsSupplyYesNoAtom = globalThis.jotaiAtomCache.get("C:\\Users\\aintrona\\Desktop\\App\\react\\naj\\libs\\data-access\\src\\lib\\atoms\\profile-atoms.ts/residentialAddressSameAsSupplyYesNoAtom", atom(async (get) => {
  return toLocalizedYesNo(await get(residentialAddressSameAsSupplyAtom));
}));
residentialAddressSameAsSupplyYesNoAtom.debugLabel = "residentialAddressSameAsSupplyYesNoAtom";
export const fullNameAtom = globalThis.jotaiAtomCache.get("C:\\Users\\aintrona\\Desktop\\App\\react\\naj\\libs\\data-access\\src\\lib\\atoms\\profile-atoms.ts/fullNameAtom", atom(async (get) => {
  const givenName = await get(givenNameAtom);
  const familyName = await get(familyNameAtom);
  return [givenName, familyName].filter(Boolean).join(" ");
}));
fullNameAtom.debugLabel = "fullNameAtom";
export const consentPhoneContactAtom = globalThis.jotaiAtomCache.get("C:\\Users\\aintrona\\Desktop\\App\\react\\naj\\libs\\data-access\\src\\lib\\atoms\\profile-atoms.ts/consentPhoneContactAtom", atom());
consentPhoneContactAtom.debugLabel = "consentPhoneContactAtom";
export var VulnerableCheck = /* @__PURE__ */ ((VulnerableCheck2) => {
  VulnerableCheck2[VulnerableCheck2["UNKNOWN"] = 0] = "UNKNOWN";
  VulnerableCheck2[VulnerableCheck2["OK"] = 1] = "OK";
  VulnerableCheck2[VulnerableCheck2["WARN_USER_IS_VULNERABLE"] = 2] = "WARN_USER_IS_VULNERABLE";
  VulnerableCheck2[VulnerableCheck2["KO_USER_NOT_VULNERABLE"] = 3] = "KO_USER_NOT_VULNERABLE";
  VulnerableCheck2[VulnerableCheck2["OK_SELF_CERTIFICATION"] = 4] = "OK_SELF_CERTIFICATION";
  return VulnerableCheck2;
})(VulnerableCheck || {});
export const vulnerableCheck = globalThis.jotaiAtomCache.get("C:\\Users\\aintrona\\Desktop\\App\\react\\naj\\libs\\data-access\\src\\lib\\atoms\\profile-atoms.ts/vulnerableCheck", atom(async (get) => {
  const offerVulnerable = get(isOfferForVulnerableUsers);
  const customerVulnerable = await get(customerVulnerableAtom);
  if (offerVulnerable) {
    if (!customerVulnerable) {
      return get(vulnerabilitySelfCertificationFlags$) ? 4 /* OK_SELF_CERTIFICATION */ : 3 /* KO_USER_NOT_VULNERABLE */;
    }
  } else if (customerVulnerable) {
    const hasGas = get(gasAtom);
    return hasGas ? 2 /* WARN_USER_IS_VULNERABLE */ : 1 /* OK */;
  }
  return 1 /* OK */;
}));
vulnerableCheck.debugLabel = "vulnerableCheck";
export const customerIdentityAtom = globalThis.jotaiAtomCache.get("C:\\Users\\aintrona\\Desktop\\App\\react\\naj\\libs\\data-access\\src\\lib\\atoms\\profile-atoms.ts/customerIdentityAtom", atom());
customerIdentityAtom.debugLabel = "customerIdentityAtom";
export const ownershipTypeAtom = globalThis.jotaiAtomCache.get("C:\\Users\\aintrona\\Desktop\\App\\react\\naj\\libs\\data-access\\src\\lib\\atoms\\profile-atoms.ts/ownershipTypeAtom", atom());
ownershipTypeAtom.debugLabel = "ownershipTypeAtom";

//# sourceMappingURL=data:application/json;base64,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LHlCQUF5QjtBQUNyRCxRQUFNOEMscUJBQXFCLE1BQU12QyxJQUFJZ0Isc0JBQXNCO0FBRTNELE1BQUlzQixpQkFBaUI7QUFDbkIsUUFBSSxDQUFDQyxvQkFBb0I7QUFDdkIsYUFBT3ZDLElBQUlKLG9DQUFvQyxJQUMzQ21DLGdDQUNBQTtBQUFBQSxJQUNOO0FBQUEsRUFDRixXQUFXUSxvQkFBb0I7QUFDN0IsVUFBTUMsU0FBU3hDLElBQUlWLE9BQU87QUFDMUIsV0FBT2tELFNBQ0hULGtDQUNBQTtBQUFBQSxFQUNOO0FBRUEsU0FBT0E7QUFDVCxDQUFDLENBQUM7QUFBQ00sZ0JBQUFsQyxhQUFBO0FBUUgsYUFBQXNDLHVCQUFBM0MsV0FBQUMsZUFBQUMsSUFBQSw0SEFBb0NYLEtBQXVCLENBQUM7QUFBQ29ELHFCQUFBdEMsYUFBQTtBQUM3RCxhQUFBdUMsb0JBQUE1QyxXQUFBQyxlQUFBQyxJQUFBLHlIQUFpQ1gsS0FBb0IsQ0FBQztBQUFDcUQsa0JBQUF2QyxhQUFBIiwibmFtZXMiOlsidG9Mb2NhbGl6ZWRZZXNObyIsImF0b20iLCJnYXNBdG9tIiwic3VwcGx5QWRkcmVzc1NlbGVjdGVkQXRvbSIsImN1c3RvbWVyQXRvbSIsImlzT2ZmZXJGb3JWdWxuZXJhYmxlVXNlcnMiLCJhdG9tV2l0aE5lc3RlZCIsImF0b21XaXRoTmVzdGVkUmVhZGFibGUiLCJ2dWxuZXJhYmlsaXR5U2VsZkNlcnRpZmljYXRpb25GbGFncyQiLCJwcm9maWxlJCIsImdsb2JhbFRoaXMiLCJqb3RhaUF0b21DYWNoZSIsImdldCIsImN1c3RvbWVyIiwicHJvZmlsZSIsImRlYnVnTGFiZWwiLCJnaXZlbk5hbWVBdG9tIiwiZmFtaWx5TmFtZUF0b20iLCJ0ZWxlcGhvbmVBdG9tIiwiZW1haWxBdG9tIiwiZW1haWxDcnlwdEF0b20iLCJ0YXhJZEF0b20iLCJsZWdhbEZvcm1BdG9tIiwiYnVzaW5lc3NOYW1lQXRvbSIsImxlZ2FsUmVwcmVzZW50YXRpdmVBdG9tIiwidmF0TnVtYmVyQXRvbSIsInRheElkT3JWYXROdW1iZXJBdG9tIiwicHJpdmFjeUF0b20iLCJjdXN0b21lclZ1bG5lcmFibGVBdG9tIiwiYWRkcmVzc0F0b20iLCJhZGRyZXNzQXNTdHJpbmdBdG9tIiwicmVzaWRlbnRpYWxBZGRyZXNzU2FtZUFzU3VwcGx5QXRvbSIsImFkZHJlc3NTdXBwbHkiLCJhZGRyZXNzUmVzaWRlbnRpYWwiLCJlZ29uQ29kZU51bWJlciIsInJlc2lkZW50aWFsQWRkcmVzc1NhbWVBc1N1cHBseVllc05vQXRvbSIsImZ1bGxOYW1lQXRvbSIsImdpdmVuTmFtZSIsImZhbWlseU5hbWUiLCJmaWx0ZXIiLCJCb29sZWFuIiwiam9pbiIsImNvbnNlbnRQaG9uZUNvbnRhY3RBdG9tIiwiVnVsbmVyYWJsZUNoZWNrIiwiVU5LTk9XTiIsIk9LIiwiV0FSTl9VU0VSX0lTX1ZVTE5FUkFCTEUiLCJLT19VU0VSX05PVF9WVUxORVJBQkxFIiwiT0tfU0VMRl9DRVJUSUZJQ0FUSU9OIiwidnVsbmVyYWJsZUNoZWNrIiwib2ZmZXJWdWxuZXJhYmxlIiwiY3VzdG9tZXJWdWxuZXJhYmxlIiwiaGFzR2FzIiwiY3VzdG9tZXJJZGVudGl0eUF0b20iLCJvd25lcnNoaXBUeXBlQXRvbSJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlcyI6WyJwcm9maWxlLWF0b21zLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHRvTG9jYWxpemVkWWVzTm8gfSBmcm9tICdAbmFqLXdvL3V0aWwnO1xyXG5pbXBvcnQgeyBhdG9tIH0gZnJvbSAnam90YWknO1xyXG5pbXBvcnQgeyBnYXNBdG9tIH0gZnJvbSAnLi4vdHJvdWJsZXNob290aW5nL2F0b21zJztcclxuaW1wb3J0IHsgc3VwcGx5QWRkcmVzc1NlbGVjdGVkQXRvbSB9IGZyb20gJy4vYWNjb3VudC1zZWxlY3RlZC1hdG9tcyc7XHJcbmltcG9ydCB7IGN1c3RvbWVyQXRvbSB9IGZyb20gJy4vY3VzdG9tZXItYXRvbXMnO1xyXG5pbXBvcnQgeyBPd25lcnNoaXBUeXBlIH0gZnJvbSAnLi9lbnVtcyc7XHJcbmltcG9ydCB7IGlzT2ZmZXJGb3JWdWxuZXJhYmxlVXNlcnMgfSBmcm9tICcuL29mZmVyLWF0b21zJztcclxuaW1wb3J0IHsgSWRlbnRpdHlEb2N1bWVudCB9IGZyb20gJy4vdHlwZXMnO1xyXG5pbXBvcnQge1xyXG4gIGF0b21XaXRoTmVzdGVkLFxyXG4gIGF0b21XaXRoTmVzdGVkUmVhZGFibGUsXHJcbn0gZnJvbSAnLi91dGlscy9hdG9tLXdpdGgtbmVzdGVkJztcclxuaW1wb3J0IHsgdnVsbmVyYWJpbGl0eVNlbGZDZXJ0aWZpY2F0aW9uRmxhZ3MkIH0gZnJvbSAnLi92dWxuZXJhYmlsaXR5L3Z1bG5lcmFiaWxpdHknO1xyXG5cclxuZXhwb3J0IGNvbnN0IHByb2ZpbGUkID0gYXRvbShhc3luYyAoZ2V0KSA9PiB7XHJcbiAgY29uc3QgY3VzdG9tZXIgPSBhd2FpdCBnZXQoY3VzdG9tZXJBdG9tKTtcclxuICByZXR1cm4gY3VzdG9tZXIucHJvZmlsZTtcclxufSk7XHJcblxyXG5leHBvcnQgY29uc3QgZ2l2ZW5OYW1lQXRvbSA9IGF0b21XaXRoTmVzdGVkKHByb2ZpbGUkLCAnZ2l2ZW5OYW1lJCcpO1xyXG5leHBvcnQgY29uc3QgZmFtaWx5TmFtZUF0b20gPSBhdG9tV2l0aE5lc3RlZChwcm9maWxlJCwgJ2ZhbWlseU5hbWUkJyk7XHJcbmV4cG9ydCBjb25zdCB0ZWxlcGhvbmVBdG9tID0gYXRvbVdpdGhOZXN0ZWQocHJvZmlsZSQsICd0ZWxlcGhvbmUkJyk7XHJcbmV4cG9ydCBjb25zdCBlbWFpbEF0b20gPSBhdG9tV2l0aE5lc3RlZChwcm9maWxlJCwgJ2VtYWlsJCcpO1xyXG5leHBvcnQgY29uc3QgZW1haWxDcnlwdEF0b20gPSBhdG9tV2l0aE5lc3RlZChwcm9maWxlJCwgJ2VtYWlsQ3J5cHQkJyk7XHJcbmV4cG9ydCBjb25zdCB0YXhJZEF0b20gPSBhdG9tV2l0aE5lc3RlZChwcm9maWxlJCwgJ3RheElkJCcpO1xyXG5leHBvcnQgY29uc3QgbGVnYWxGb3JtQXRvbSA9IGF0b21XaXRoTmVzdGVkKHByb2ZpbGUkLCAnbGVnYWxGb3JtJCcpO1xyXG5leHBvcnQgY29uc3QgYnVzaW5lc3NOYW1lQXRvbSA9IGF0b21XaXRoTmVzdGVkKHByb2ZpbGUkLCAnYnVzaW5lc3NOYW1lJCcpO1xyXG5leHBvcnQgY29uc3QgbGVnYWxSZXByZXNlbnRhdGl2ZUF0b20gPSBhdG9tV2l0aE5lc3RlZChcclxuICBwcm9maWxlJCxcclxuICAnbGVnYWxSZXByZXNlbnRhdGl2ZSQnXHJcbik7XHJcbmV4cG9ydCBjb25zdCB2YXROdW1iZXJBdG9tID0gYXRvbVdpdGhOZXN0ZWQocHJvZmlsZSQsICd2YXROdW1iZXIkJyk7XHJcbmV4cG9ydCBjb25zdCB0YXhJZE9yVmF0TnVtYmVyQXRvbSA9IGF0b20oYXN5bmMgKGdldCkgPT4ge1xyXG4gIHJldHVybiAoYXdhaXQgZ2V0KHZhdE51bWJlckF0b20pKSB8fCAoYXdhaXQgZ2V0KHRheElkQXRvbSkpO1xyXG59KTtcclxuZXhwb3J0IGNvbnN0IHByaXZhY3lBdG9tID0gYXRvbVdpdGhOZXN0ZWQocHJvZmlsZSQsICdwcml2YWN5JCcpO1xyXG5leHBvcnQgY29uc3QgY3VzdG9tZXJWdWxuZXJhYmxlQXRvbSA9IGF0b21XaXRoTmVzdGVkKHByb2ZpbGUkLCAndnVsbmVyYWJsZSQnKTtcclxuLyoqIElmIFNNQUxMIHNlZ21lbnQsIHRoZSBhZGRyZXNzIGlzIFwiU0VERSBMRUdBTEVcIiwgb3RoZXJ3aXNlIFwiUkVTSURFTlpBXCIgKi9cclxuZXhwb3J0IGNvbnN0IGFkZHJlc3NBdG9tID0gYXRvbVdpdGhOZXN0ZWQocHJvZmlsZSQsICdhZGRyZXNzJCcpO1xyXG4vKiogSWYgU01BTEwgc2VnbWVudCwgdGhlIGFkZHJlc3MgaXMgXCJTRURFIExFR0FMRVwiLCBvdGhlcndpc2UgXCJSRVNJREVOWkFcIiAqL1xyXG5leHBvcnQgY29uc3QgYWRkcmVzc0FzU3RyaW5nQXRvbSA9IGF0b21XaXRoTmVzdGVkUmVhZGFibGUoXHJcbiAgcHJvZmlsZSQsXHJcbiAgJ2FkZHJlc3NBc1N0cmluZyQnXHJcbik7XHJcbmV4cG9ydCBjb25zdCByZXNpZGVudGlhbEFkZHJlc3NTYW1lQXNTdXBwbHlBdG9tID0gYXRvbShhc3luYyAoZ2V0KSA9PiB7XHJcbiAgY29uc3QgYWRkcmVzc1N1cHBseSA9IGF3YWl0IGdldChzdXBwbHlBZGRyZXNzU2VsZWN0ZWRBdG9tKTtcclxuICBjb25zdCBhZGRyZXNzUmVzaWRlbnRpYWwgPSBhd2FpdCBnZXQoYWRkcmVzc0F0b20pO1xyXG4gIHJldHVybiBhZGRyZXNzUmVzaWRlbnRpYWw/LmVnb25Db2RlTnVtYmVyID09PSBhZGRyZXNzU3VwcGx5Py5lZ29uQ29kZU51bWJlcjtcclxufSk7XHJcbmV4cG9ydCBjb25zdCByZXNpZGVudGlhbEFkZHJlc3NTYW1lQXNTdXBwbHlZZXNOb0F0b20gPSBhdG9tKGFzeW5jIChnZXQpID0+IHtcclxuICByZXR1cm4gdG9Mb2NhbGl6ZWRZZXNObyhhd2FpdCBnZXQocmVzaWRlbnRpYWxBZGRyZXNzU2FtZUFzU3VwcGx5QXRvbSkpO1xyXG59KTtcclxuXHJcbmV4cG9ydCBjb25zdCBmdWxsTmFtZUF0b20gPSBhdG9tKGFzeW5jIChnZXQpID0+IHtcclxuICBjb25zdCBnaXZlbk5hbWUgPSBhd2FpdCBnZXQoZ2l2ZW5OYW1lQXRvbSk7XHJcbiAgY29uc3QgZmFtaWx5TmFtZSA9IGF3YWl0IGdldChmYW1pbHlOYW1lQXRvbSk7XHJcbiAgcmV0dXJuIFtnaXZlbk5hbWUsIGZhbWlseU5hbWVdLmZpbHRlcihCb29sZWFuKS5qb2luKCcgJyk7XHJcbn0pO1xyXG5cclxuZXhwb3J0IGNvbnN0IGNvbnNlbnRQaG9uZUNvbnRhY3RBdG9tID0gYXRvbTxib29sZWFuPigpO1xyXG5cclxuZXhwb3J0IGVudW0gVnVsbmVyYWJsZUNoZWNrIHtcclxuICBVTktOT1dOLFxyXG4gIC8qKiBOb3RoaW5nIHRvIGRvIGhlcmUgKi9cclxuICBPSyxcclxuICAvKiogVGhlIGN1c3RvbWVyIGlzIHZ1bG5lcmFibGUsIGJ1dCBhbiBvZmZlciBpcyBhdmFpbGFibGUgZm9yIHZ1bG5lcmFibGUgdXNlcnMgKi9cclxuICBXQVJOX1VTRVJfSVNfVlVMTkVSQUJMRSxcclxuICAvKiogVGhlIGN1c3RvbWVyIGlzIG5vdCB2dWxuZXJhYmxlLCBidXQgdGhlIG9mZmVyIGlzIGF2YWlsYWJsZSBvbmx5IGZvciB2dWxuZXJhYmxlIHVzZXJzICovXHJcbiAgS09fVVNFUl9OT1RfVlVMTkVSQUJMRSxcclxuICAvKiogVGhlIHVzZXIgaGFzIHNlbnQgYSBzZWxmLWNlcnRpZmljYXRpb24gKi9cclxuICBPS19TRUxGX0NFUlRJRklDQVRJT04sXHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCB2dWxuZXJhYmxlQ2hlY2sgPSBhdG9tKGFzeW5jIChnZXQpID0+IHtcclxuICBjb25zdCBvZmZlclZ1bG5lcmFibGUgPSBnZXQoaXNPZmZlckZvclZ1bG5lcmFibGVVc2Vycyk7XHJcbiAgY29uc3QgY3VzdG9tZXJWdWxuZXJhYmxlID0gYXdhaXQgZ2V0KGN1c3RvbWVyVnVsbmVyYWJsZUF0b20pO1xyXG5cclxuICBpZiAob2ZmZXJWdWxuZXJhYmxlKSB7XHJcbiAgICBpZiAoIWN1c3RvbWVyVnVsbmVyYWJsZSkge1xyXG4gICAgICByZXR1cm4gZ2V0KHZ1bG5lcmFiaWxpdHlTZWxmQ2VydGlmaWNhdGlvbkZsYWdzJClcclxuICAgICAgICA/IFZ1bG5lcmFibGVDaGVjay5PS19TRUxGX0NFUlRJRklDQVRJT05cclxuICAgICAgICA6IFZ1bG5lcmFibGVDaGVjay5LT19VU0VSX05PVF9WVUxORVJBQkxFO1xyXG4gICAgfVxyXG4gIH0gZWxzZSBpZiAoY3VzdG9tZXJWdWxuZXJhYmxlKSB7XHJcbiAgICBjb25zdCBoYXNHYXMgPSBnZXQoZ2FzQXRvbSk7XHJcbiAgICByZXR1cm4gaGFzR2FzXHJcbiAgICAgID8gVnVsbmVyYWJsZUNoZWNrLldBUk5fVVNFUl9JU19WVUxORVJBQkxFXHJcbiAgICAgIDogVnVsbmVyYWJsZUNoZWNrLk9LO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIFZ1bG5lcmFibGVDaGVjay5PSztcclxufSk7XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIFZ1bG5lcmFiaWxpdHkge1xyXG4gIGRpc2FiaWxpdHk6IGJvb2xlYW47XHJcbiAgc2FlTWFwcmU6IGJvb2xlYW47XHJcbiAgc29jaWFsQm9udXM6IGJvb2xlYW47XHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBjdXN0b21lcklkZW50aXR5QXRvbSA9IGF0b208SWRlbnRpdHlEb2N1bWVudD4oKTtcclxuZXhwb3J0IGNvbnN0IG93bmVyc2hpcFR5cGVBdG9tID0gYXRvbTxPd25lcnNoaXBUeXBlPigpO1xyXG4iXSwiZmlsZSI6IkM6L1VzZXJzL2FpbnRyb25hL0Rlc2t0b3AvQXBwL3JlYWN0L25hai9saWJzL2RhdGEtYWNjZXNzL3NyYy9saWIvYXRvbXMvcHJvZmlsZS1hdG9tcy50cyJ9