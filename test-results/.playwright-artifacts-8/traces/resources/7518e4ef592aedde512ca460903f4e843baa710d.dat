globalThis.jotaiAtomCache = globalThis.jotaiAtomCache || {
  cache: /* @__PURE__ */ new Map(),
  get(name, inst) {
    if (this.cache.has(name)) {
      return this.cache.get(name);
    }
    this.cache.set(name, inst);
    return inst;
  }
};
import { atom } from "/@fs/C:/Users/aintrona/Desktop/App/react/naj/node_modules/.vite/apps/naj/deps/jotai.js?v=0189a8d1";
import { workingOnPanelStandaloneAtom, workingProductAtom } from "/@fs/C:/Users/aintrona/Desktop/App/react/naj/libs/data-access/src/lib/troubleshooting/troubleshooting.ts";
import { OperativeMode } from "/@fs/C:/Users/aintrona/Desktop/App/react/naj/libs/data-access/src/lib/troubleshooting/types.ts";
import { ImmediateEffect } from "/@fs/C:/Users/aintrona/Desktop/App/react/naj/libs/data-access/src/lib/effective-dates/types.ts";
import { getEffectiveDate } from "/@fs/C:/Users/aintrona/Desktop/App/react/naj/libs/data-access/src/lib/effective-dates/utils.ts";
import { customerSegmentAtom } from "/@fs/C:/Users/aintrona/Desktop/App/react/naj/libs/data-access/src/lib/atoms/customer-atoms.ts";
import { Segment } from "/@fs/C:/Users/aintrona/Desktop/App/react/naj/libs/data-access/src/lib/atoms/enums.ts";
export const effectiveDatesCommodityAtom = globalThis.jotaiAtomCache.get("C:\\Users\\aintrona\\Desktop\\App\\react\\naj\\libs\\data-access\\src\\lib\\effective-dates\\index.ts/effectiveDatesCommodityAtom", atom(async (get) => {
  if (get(workingOnPanelStandaloneAtom)) {
    const {
      effectiveDatesPanelAdoptionAtom
    } = await import("/@fs/C:/Users/aintrona/Desktop/App/react/naj/libs/data-access/src/lib/effective-dates/panel-adoption.ts");
    return get(effectiveDatesPanelAdoptionAtom);
  }
  const segmentSmall = await get(customerSegmentAtom) === Segment.SMALL;
  const wp = get(workingProductAtom);
  switch (wp?.operativeMode) {
    case OperativeMode.SWITCH_IN: {
      if (segmentSmall) {
        return {
          dateStandardActivation: null
        };
      }
      const {
        effectiveDatesSwitchInAtom
      } = await import("/@fs/C:/Users/aintrona/Desktop/App/react/naj/libs/data-access/src/lib/effective-dates/switch-in.ts");
      return get(effectiveDatesSwitchInAtom);
    }
    case OperativeMode.SWITCH_IN_TRANSFER: {
      const {
        effectiveDatesSwitchInTransferAtom
      } = await import("/@fs/C:/Users/aintrona/Desktop/App/react/naj/libs/data-access/src/lib/effective-dates/switch-in-transfer.ts");
      return get(effectiveDatesSwitchInTransferAtom);
    }
    case OperativeMode.CHANGE_OFFER: {
      const {
        effectiveDatesChangeOfferAtom
      } = await import("/@fs/C:/Users/aintrona/Desktop/App/react/naj/libs/data-access/src/lib/effective-dates/change-offer.ts");
      return get(effectiveDatesChangeOfferAtom);
    }
    case OperativeMode.TRANSFER: {
      const {
        effectiveDatesTransferAtom
      } = await import("/@fs/C:/Users/aintrona/Desktop/App/react/naj/libs/data-access/src/lib/effective-dates/transfer.ts");
      return get(effectiveDatesTransferAtom);
    }
    case OperativeMode.NEW_ACTIVATION:
      return {
        dateStandardActivation: null,
        dateFastActivation: null
      };
    default:
      return {};
  }
}));
effectiveDatesCommodityAtom.debugLabel = "effectiveDatesCommodityAtom";
export const effectiveDate$ = globalThis.jotaiAtomCache.get("C:\\Users\\aintrona\\Desktop\\App\\react\\naj\\libs\\data-access\\src\\lib\\effective-dates\\index.ts/effectiveDate$", atom(async (get) => {
  const dates = await get(effectiveDatesCommodityAtom);
  const immediateEffect = await get(immediateEffectAtom);
  return getEffectiveDate(dates, immediateEffect);
}));
effectiveDate$.debugLabel = "effectiveDate$";
export const _immediateEffect$ = globalThis.jotaiAtomCache.get("C:\\Users\\aintrona\\Desktop\\App\\react\\naj\\libs\\data-access\\src\\lib\\effective-dates\\index.ts/_immediateEffect$", atom(ImmediateEffect.NOT_SELECTED));
_immediateEffect$.debugLabel = "_immediateEffect$";
export const immediateEffectAtom = globalThis.jotaiAtomCache.get("C:\\Users\\aintrona\\Desktop\\App\\react\\naj\\libs\\data-access\\src\\lib\\effective-dates\\index.ts/immediateEffectAtom", atom(async (get) => {
  const dates = await get(effectiveDatesCommodityAtom);
  if (dates.dateStandardActivation !== void 0 && dates.dateFastActivation !== void 0) {
    return get(_immediateEffect$);
  }
  if (dates.dateStandardActivation !== void 0) {
    return ImmediateEffect.STANDARD;
  }
  if (dates.dateFastActivation !== void 0) {
    return ImmediateEffect.PRIORITY;
  }
  return ImmediateEffect.NOT_SELECTED;
}, (get, set, args) => {
  return set(_immediateEffect$, args);
}));
immediateEffectAtom.debugLabel = "immediateEffectAtom";

//# sourceMappingURL=data:application/json;base64,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LEtBQUsyQixLQUFLQyxTQUFTO0FBQ2xCLFNBQU9ELElBQUlMLG1CQUFtQk0sSUFBSTtBQUNwQyxDQUNGLENBQUM7QUFBQ1Asb0JBQUFKLGFBQUEiLCJuYW1lcyI6WyJhdG9tIiwid29ya2luZ09uUGFuZWxTdGFuZGFsb25lQXRvbSIsIndvcmtpbmdQcm9kdWN0QXRvbSIsIk9wZXJhdGl2ZU1vZGUiLCJJbW1lZGlhdGVFZmZlY3QiLCJnZXRFZmZlY3RpdmVEYXRlIiwiY3VzdG9tZXJTZWdtZW50QXRvbSIsIlNlZ21lbnQiLCJlZmZlY3RpdmVEYXRlc0NvbW1vZGl0eUF0b20iLCJnbG9iYWxUaGlzIiwiam90YWlBdG9tQ2FjaGUiLCJnZXQiLCJlZmZlY3RpdmVEYXRlc1BhbmVsQWRvcHRpb25BdG9tIiwic2VnbWVudFNtYWxsIiwiU01BTEwiLCJ3cCIsIm9wZXJhdGl2ZU1vZGUiLCJTV0lUQ0hfSU4iLCJkYXRlU3RhbmRhcmRBY3RpdmF0aW9uIiwiZWZmZWN0aXZlRGF0ZXNTd2l0Y2hJbkF0b20iLCJTV0lUQ0hfSU5fVFJBTlNGRVIiLCJlZmZlY3RpdmVEYXRlc1N3aXRjaEluVHJhbnNmZXJBdG9tIiwiQ0hBTkdFX09GRkVSIiwiZWZmZWN0aXZlRGF0ZXNDaGFuZ2VPZmZlckF0b20iLCJUUkFOU0ZFUiIsImVmZmVjdGl2ZURhdGVzVHJhbnNmZXJBdG9tIiwiTkVXX0FDVElWQVRJT04iLCJkYXRlRmFzdEFjdGl2YXRpb24iLCJkZWJ1Z0xhYmVsIiwiZWZmZWN0aXZlRGF0ZSQiLCJkYXRlcyIsImltbWVkaWF0ZUVmZmVjdCIsImltbWVkaWF0ZUVmZmVjdEF0b20iLCJfaW1tZWRpYXRlRWZmZWN0JCIsIk5PVF9TRUxFQ1RFRCIsInVuZGVmaW5lZCIsIlNUQU5EQVJEIiwiUFJJT1JJVFkiLCJzZXQiLCJhcmdzIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VzIjpbImluZGV4LnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGF0b20sIFNldFN0YXRlQWN0aW9uIH0gZnJvbSAnam90YWknO1xyXG5pbXBvcnQge1xyXG4gIHdvcmtpbmdPblBhbmVsU3RhbmRhbG9uZUF0b20sXHJcbiAgd29ya2luZ1Byb2R1Y3RBdG9tLFxyXG59IGZyb20gJy4uL3Ryb3VibGVzaG9vdGluZy90cm91Ymxlc2hvb3RpbmcnO1xyXG5pbXBvcnQgeyBPcGVyYXRpdmVNb2RlIH0gZnJvbSAnLi4vdHJvdWJsZXNob290aW5nL3R5cGVzJztcclxuaW1wb3J0IHsgSW1tZWRpYXRlRWZmZWN0LCBQYXJ0aWFsRWZmZWN0aXZlRGF0ZXMgfSBmcm9tICcuL3R5cGVzJztcclxuaW1wb3J0IHsgZ2V0RWZmZWN0aXZlRGF0ZSB9IGZyb20gJy4vdXRpbHMnO1xyXG5pbXBvcnQgeyBjdXN0b21lclNlZ21lbnRBdG9tIH0gZnJvbSAnLi4vYXRvbXMvY3VzdG9tZXItYXRvbXMnO1xyXG5pbXBvcnQgeyBTZWdtZW50IH0gZnJvbSAnLi4vYXRvbXMvZW51bXMnO1xyXG5cclxuLyoqXHJcbiAqIEF0b21zIHRoYXQgY29udGFpbiB0aGUgZWZmZWN0aXZlIGRhdGVzIHBvc3NpYmlsaXRpZXMuXHJcbiAqXHJcbiAqIF9fW1N0ZWZhbm8gTWFuZW50aSAwMS8wNy8yMDI1XV9fXHJcbiAqIC0gTGEgX19kYXRhIGRpIGRlY29ycmVuemFfXyDDqCBzdVxyXG4gKiAgIC0gc3dpdGNoLWluIHJlc2lkZW56aWFsZSxcclxuICogICAtIGNhbWJpby1wcm9kb3R0byByZXNpZGVuemlhbGUsXHJcbiAqICAgLSBhdHRpdmF6aW9uaS5cclxuICogLSBJbCBfX2ZsYWcgZGkgZGVjb3JyZW56YSBpbW1lZGlhdGFfXyDDqCBzdVxyXG4gKiAgIC0gY2FtYmlvLXByb2RvdHRvIHJlc2lkZW56aWFsZSBlIHNtYWxsLFxyXG4gKiAgIC0gc3dpdGNoLWluIHJlc2lkZW56aWFsZSBlIHNtYWxsXHJcbiAqL1xyXG5leHBvcnQgY29uc3QgZWZmZWN0aXZlRGF0ZXNDb21tb2RpdHlBdG9tID0gYXRvbTxQcm9taXNlPFBhcnRpYWxFZmZlY3RpdmVEYXRlcz4+KFxyXG4gIGFzeW5jIChnZXQpID0+IHtcclxuICAgIGlmIChnZXQod29ya2luZ09uUGFuZWxTdGFuZGFsb25lQXRvbSkpIHtcclxuICAgICAgY29uc3QgeyBlZmZlY3RpdmVEYXRlc1BhbmVsQWRvcHRpb25BdG9tIH0gPSBhd2FpdCBpbXBvcnQoXHJcbiAgICAgICAgJy4vcGFuZWwtYWRvcHRpb24nXHJcbiAgICAgICk7XHJcbiAgICAgIHJldHVybiBnZXQoZWZmZWN0aXZlRGF0ZXNQYW5lbEFkb3B0aW9uQXRvbSk7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3Qgc2VnbWVudFNtYWxsID0gKGF3YWl0IGdldChjdXN0b21lclNlZ21lbnRBdG9tKSkgPT09IFNlZ21lbnQuU01BTEw7XHJcblxyXG4gICAgY29uc3Qgd3AgPSBnZXQod29ya2luZ1Byb2R1Y3RBdG9tKTtcclxuICAgIHN3aXRjaCAod3A/Lm9wZXJhdGl2ZU1vZGUpIHtcclxuICAgICAgY2FzZSBPcGVyYXRpdmVNb2RlLlNXSVRDSF9JTjoge1xyXG4gICAgICAgIGlmIChzZWdtZW50U21hbGwpIHtcclxuICAgICAgICAgIC8vIFNldCB0aGUgZmxhZyBhcyBJbW1lZGlhdGVFZmZlY3QuU1RBTkRBUkQgYnV0IGRvIG5vdCBzZXQgKGFuZCBzaG93KSB0aGUgZWZmZWN0aXZlIGRhdGUuXHJcbiAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBkYXRlU3RhbmRhcmRBY3RpdmF0aW9uOiBudWxsLFxyXG4gICAgICAgICAgfTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgeyBlZmZlY3RpdmVEYXRlc1N3aXRjaEluQXRvbSB9ID0gYXdhaXQgaW1wb3J0KCcuL3N3aXRjaC1pbicpO1xyXG4gICAgICAgIHJldHVybiBnZXQoZWZmZWN0aXZlRGF0ZXNTd2l0Y2hJbkF0b20pO1xyXG4gICAgICB9XHJcbiAgICAgIGNhc2UgT3BlcmF0aXZlTW9kZS5TV0lUQ0hfSU5fVFJBTlNGRVI6IHtcclxuICAgICAgICBjb25zdCB7IGVmZmVjdGl2ZURhdGVzU3dpdGNoSW5UcmFuc2ZlckF0b20gfSA9IGF3YWl0IGltcG9ydChcclxuICAgICAgICAgICcuL3N3aXRjaC1pbi10cmFuc2ZlcidcclxuICAgICAgICApO1xyXG4gICAgICAgIHJldHVybiBnZXQoZWZmZWN0aXZlRGF0ZXNTd2l0Y2hJblRyYW5zZmVyQXRvbSk7XHJcbiAgICAgIH1cclxuICAgICAgY2FzZSBPcGVyYXRpdmVNb2RlLkNIQU5HRV9PRkZFUjoge1xyXG4gICAgICAgIGNvbnN0IHsgZWZmZWN0aXZlRGF0ZXNDaGFuZ2VPZmZlckF0b20gfSA9IGF3YWl0IGltcG9ydChcclxuICAgICAgICAgICcuL2NoYW5nZS1vZmZlcidcclxuICAgICAgICApO1xyXG4gICAgICAgIHJldHVybiBnZXQoZWZmZWN0aXZlRGF0ZXNDaGFuZ2VPZmZlckF0b20pO1xyXG4gICAgICB9XHJcbiAgICAgIGNhc2UgT3BlcmF0aXZlTW9kZS5UUkFOU0ZFUjoge1xyXG4gICAgICAgIGNvbnN0IHsgZWZmZWN0aXZlRGF0ZXNUcmFuc2ZlckF0b20gfSA9IGF3YWl0IGltcG9ydCgnLi90cmFuc2ZlcicpO1xyXG4gICAgICAgIHJldHVybiBnZXQoZWZmZWN0aXZlRGF0ZXNUcmFuc2ZlckF0b20pO1xyXG4gICAgICB9XHJcbiAgICAgIGNhc2UgT3BlcmF0aXZlTW9kZS5ORVdfQUNUSVZBVElPTjpcclxuICAgICAgICAvLyBzdSBhdHRpdmF6aW9uaSBzb25vIGRpc3BvbmliaWxpIGVudHJhbWJpIG1hIGxhIGRhdGEgw6ggaW1wb3N0YXRhIGFsdHJvdmVcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgZGF0ZVN0YW5kYXJkQWN0aXZhdGlvbjogbnVsbCxcclxuICAgICAgICAgIGRhdGVGYXN0QWN0aXZhdGlvbjogbnVsbCxcclxuICAgICAgICB9O1xyXG4gICAgICBkZWZhdWx0OlxyXG4gICAgICAgIHJldHVybiB7fTtcclxuICAgIH1cclxuICB9XHJcbik7XHJcblxyXG5leHBvcnQgY29uc3QgZWZmZWN0aXZlRGF0ZSQgPSBhdG9tKGFzeW5jIChnZXQpID0+IHtcclxuICBjb25zdCBkYXRlcyA9IGF3YWl0IGdldChlZmZlY3RpdmVEYXRlc0NvbW1vZGl0eUF0b20pO1xyXG4gIGNvbnN0IGltbWVkaWF0ZUVmZmVjdCA9IGF3YWl0IGdldChpbW1lZGlhdGVFZmZlY3RBdG9tKTtcclxuICByZXR1cm4gZ2V0RWZmZWN0aXZlRGF0ZShkYXRlcywgaW1tZWRpYXRlRWZmZWN0KTtcclxufSk7XHJcblxyXG5leHBvcnQgY29uc3QgX2ltbWVkaWF0ZUVmZmVjdCQgPSBhdG9tKEltbWVkaWF0ZUVmZmVjdC5OT1RfU0VMRUNURUQpO1xyXG5cclxuLyoqXHJcbiAqIEF0b21zIHRoYXQgY29udGFpbiB0aGUgaW1tZWRpYXRlIGVmZmVjdCBjaG9pY2UuXHJcbiAqIElmIHdlIGhhdmUgb25seSBvbmUsIHdlIHJldHVybiB0aGF0LlxyXG4gKiBJZiB3ZSBoYXZlIG5vdGhpbmcsIHdlIHJldHVybiBJbW1lZGlhdGVFZmZlY3QuTk9UX1NFTEVDVEVELlxyXG4gKi9cclxuZXhwb3J0IGNvbnN0IGltbWVkaWF0ZUVmZmVjdEF0b20gPSBhdG9tPFxyXG4gIFByb21pc2U8SW1tZWRpYXRlRWZmZWN0PixcclxuICBbU2V0U3RhdGVBY3Rpb248SW1tZWRpYXRlRWZmZWN0Pl0sXHJcbiAgdm9pZFxyXG4+KFxyXG4gIGFzeW5jIChnZXQpID0+IHtcclxuICAgIGNvbnN0IGRhdGVzID0gYXdhaXQgZ2V0KGVmZmVjdGl2ZURhdGVzQ29tbW9kaXR5QXRvbSk7XHJcbiAgICBpZiAoXHJcbiAgICAgIGRhdGVzLmRhdGVTdGFuZGFyZEFjdGl2YXRpb24gIT09IHVuZGVmaW5lZCAmJlxyXG4gICAgICBkYXRlcy5kYXRlRmFzdEFjdGl2YXRpb24gIT09IHVuZGVmaW5lZFxyXG4gICAgKSB7XHJcbiAgICAgIHJldHVybiBnZXQoX2ltbWVkaWF0ZUVmZmVjdCQpO1xyXG4gICAgfVxyXG4gICAgaWYgKGRhdGVzLmRhdGVTdGFuZGFyZEFjdGl2YXRpb24gIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICByZXR1cm4gSW1tZWRpYXRlRWZmZWN0LlNUQU5EQVJEO1xyXG4gICAgfVxyXG4gICAgaWYgKGRhdGVzLmRhdGVGYXN0QWN0aXZhdGlvbiAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgIHJldHVybiBJbW1lZGlhdGVFZmZlY3QuUFJJT1JJVFk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gSW1tZWRpYXRlRWZmZWN0Lk5PVF9TRUxFQ1RFRDtcclxuICB9LFxyXG4gIChnZXQsIHNldCwgYXJncykgPT4ge1xyXG4gICAgcmV0dXJuIHNldChfaW1tZWRpYXRlRWZmZWN0JCwgYXJncyk7XHJcbiAgfVxyXG4pO1xyXG4iXSwiZmlsZSI6IkM6L1VzZXJzL2FpbnRyb25hL0Rlc2t0b3AvQXBwL3JlYWN0L25hai9saWJzL2RhdGEtYWNjZXNzL3NyYy9saWIvZWZmZWN0aXZlLWRhdGVzL2luZGV4LnRzIn0=