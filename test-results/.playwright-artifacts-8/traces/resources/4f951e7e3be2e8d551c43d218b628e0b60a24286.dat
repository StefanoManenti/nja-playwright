globalThis.jotaiAtomCache = globalThis.jotaiAtomCache || {
  cache: /* @__PURE__ */ new Map(),
  get(name, inst) {
    if (this.cache.has(name)) {
      return this.cache.get(name);
    }
    this.cache.set(name, inst);
    return inst;
  }
};
import { createOptimisticAtom } from "/@fs/C:/Users/aintrona/Desktop/App/react/naj/libs/util/src/index.ts";
import { atom } from "/@fs/C:/Users/aintrona/Desktop/App/react/naj/node_modules/.vite/apps/naj/deps/jotai_index.js?v=0189a8d1";
import { atomWithLazy } from "/@fs/C:/Users/aintrona/Desktop/App/react/naj/node_modules/.vite/apps/naj/deps/jotai_utils.js?v=0189a8d1";
import { CommodityObj } from "/@fs/C:/Users/aintrona/Desktop/App/react/naj/libs/data-access/src/lib/atoms/CommodityObj.ts";
import { getActivationTypeGas, getActivationTypePower } from "/@fs/C:/Users/aintrona/Desktop/App/react/naj/libs/data-access/src/lib/troubleshooting/activation-questions.tsx";
import { restoreBroadbandFromUrl, restoreGasFromUrl, restoreOperativeModeFromUrl, restorePanelFromUrl, restorePowerFromUrl, restoreWantsCommodityFromUrl } from "/@fs/C:/Users/aintrona/Desktop/App/react/naj/libs/data-access/src/lib/troubleshooting/state-url.ts";
import { OperativeMode } from "/@fs/C:/Users/aintrona/Desktop/App/react/naj/libs/data-access/src/lib/troubleshooting/types.ts";
import { BroadbandWorkingProduct, combineProducts, CommodityWorkingProduct, PanelWorkingProduct } from "/@fs/C:/Users/aintrona/Desktop/App/react/naj/libs/data-access/src/lib/troubleshooting/WorkingProduct.ts";
export const tsPowerAtom = globalThis.jotaiAtomCache.get("C:\\Users\\aintrona\\Desktop\\App\\react\\naj\\libs\\data-access\\src\\lib\\troubleshooting\\troubleshooting.ts/tsPowerAtom", atomWithLazy(restorePowerFromUrl));
tsPowerAtom.debugLabel = "tsPowerAtom";
export const tsGasAtom = globalThis.jotaiAtomCache.get("C:\\Users\\aintrona\\Desktop\\App\\react\\naj\\libs\\data-access\\src\\lib\\troubleshooting\\troubleshooting.ts/tsGasAtom", atomWithLazy(restoreGasFromUrl));
tsGasAtom.debugLabel = "tsGasAtom";
export const tsWantsCommodityAtom = globalThis.jotaiAtomCache.get("C:\\Users\\aintrona\\Desktop\\App\\react\\naj\\libs\\data-access\\src\\lib\\troubleshooting\\troubleshooting.ts/tsWantsCommodityAtom", atomWithLazy(restoreWantsCommodityFromUrl));
tsWantsCommodityAtom.debugLabel = "tsWantsCommodityAtom";
export const tsBroadbandAtom = globalThis.jotaiAtomCache.get("C:\\Users\\aintrona\\Desktop\\App\\react\\naj\\libs\\data-access\\src\\lib\\troubleshooting\\troubleshooting.ts/tsBroadbandAtom", atomWithLazy(restoreBroadbandFromUrl));
tsBroadbandAtom.debugLabel = "tsBroadbandAtom";
export const tsPanelAtom = globalThis.jotaiAtomCache.get("C:\\Users\\aintrona\\Desktop\\App\\react\\naj\\libs\\data-access\\src\\lib\\troubleshooting\\troubleshooting.ts/tsPanelAtom", atomWithLazy(restorePanelFromUrl));
tsPanelAtom.debugLabel = "tsPanelAtom";
export const qsOperativeModeAtom = globalThis.jotaiAtomCache.get("C:\\Users\\aintrona\\Desktop\\App\\react\\naj\\libs\\data-access\\src\\lib\\troubleshooting\\troubleshooting.ts/qsOperativeModeAtom", atomWithLazy(restoreOperativeModeFromUrl));
qsOperativeModeAtom.debugLabel = "qsOperativeModeAtom";
export const tsOperativeModePowerAtom = globalThis.jotaiAtomCache.get("C:\\Users\\aintrona\\Desktop\\App\\react\\naj\\libs\\data-access\\src\\lib\\troubleshooting\\troubleshooting.ts/tsOperativeModePowerAtom", createOptimisticAtom(atomWithLazy(restoreOperativeModeFromUrl)));
tsOperativeModePowerAtom.debugLabel = "tsOperativeModePowerAtom";
export const tsOperativeModePowerCalculated$ = globalThis.jotaiAtomCache.get("C:\\Users\\aintrona\\Desktop\\App\\react\\naj\\libs\\data-access\\src\\lib\\troubleshooting\\troubleshooting.ts/tsOperativeModePowerCalculated$", atom((get) => {
  const operativeMode = get(tsOperativeModePowerAtom);
  const activationPower = get(tsActivationPower$);
  if (operativeMode === OperativeMode.NEW_ACTIVATION) {
    const activationType = getActivationTypePower(activationPower);
    if (activationType === "Voltura luce") {
      return OperativeMode.TRANSFER;
    }
    if (activationType === "Attivare unâ€™offerta con voltura") {
      return OperativeMode.SWITCH_IN_TRANSFER;
    }
  }
  return operativeMode;
}));
tsOperativeModePowerCalculated$.debugLabel = "tsOperativeModePowerCalculated$";
export const tsOperativeModeGasAtom = globalThis.jotaiAtomCache.get("C:\\Users\\aintrona\\Desktop\\App\\react\\naj\\libs\\data-access\\src\\lib\\troubleshooting\\troubleshooting.ts/tsOperativeModeGasAtom", createOptimisticAtom(atomWithLazy(restoreOperativeModeFromUrl)));
tsOperativeModeGasAtom.debugLabel = "tsOperativeModeGasAtom";
export const tsOperativeModeGasCalculated$ = globalThis.jotaiAtomCache.get("C:\\Users\\aintrona\\Desktop\\App\\react\\naj\\libs\\data-access\\src\\lib\\troubleshooting\\troubleshooting.ts/tsOperativeModeGasCalculated$", atom((get) => {
  const operativeMode = get(tsOperativeModeGasAtom);
  const activationGas = get(tsActivationGas$);
  if (operativeMode === OperativeMode.NEW_ACTIVATION) {
    const activationType = getActivationTypeGas(activationGas);
    if (activationType === "Voltura gas") {
      return OperativeMode.TRANSFER;
    }
  }
  return operativeMode;
}));
tsOperativeModeGasCalculated$.debugLabel = "tsOperativeModeGasCalculated$";
export const tsActivationPower$ = globalThis.jotaiAtomCache.get("C:\\Users\\aintrona\\Desktop\\App\\react\\naj\\libs\\data-access\\src\\lib\\troubleshooting\\troubleshooting.ts/tsActivationPower$", atom({
  contatorePresente: void 0,
  aperto: void 0,
  predisposizioneImpianto: void 0,
  plenitudeCustomer: void 0
}));
tsActivationPower$.debugLabel = "tsActivationPower$";
export const tsActivationGas$ = globalThis.jotaiAtomCache.get("C:\\Users\\aintrona\\Desktop\\App\\react\\naj\\libs\\data-access\\src\\lib\\troubleshooting\\troubleshooting.ts/tsActivationGas$", atom({
  contatorePresente: void 0,
  aperto: void 0,
  attaccoContatore: void 0,
  impiantoModificato: void 0
}));
tsActivationGas$.debugLabel = "tsActivationGas$";
const isPowerPurchasedAtom = globalThis.jotaiAtomCache.get("C:\\Users\\aintrona\\Desktop\\App\\react\\naj\\libs\\data-access\\src\\lib\\troubleshooting\\troubleshooting.ts/isPowerPurchasedAtom", atom(false));
isPowerPurchasedAtom.debugLabel = "isPowerPurchasedAtom";
const isGasPurchasedAtom = globalThis.jotaiAtomCache.get("C:\\Users\\aintrona\\Desktop\\App\\react\\naj\\libs\\data-access\\src\\lib\\troubleshooting\\troubleshooting.ts/isGasPurchasedAtom", atom(false));
isGasPurchasedAtom.debugLabel = "isGasPurchasedAtom";
const isFiberPurchasedAtom = globalThis.jotaiAtomCache.get("C:\\Users\\aintrona\\Desktop\\App\\react\\naj\\libs\\data-access\\src\\lib\\troubleshooting\\troubleshooting.ts/isFiberPurchasedAtom", atom(false));
isFiberPurchasedAtom.debugLabel = "isFiberPurchasedAtom";
export const productsToPurchaseAtom = globalThis.jotaiAtomCache.get("C:\\Users\\aintrona\\Desktop\\App\\react\\naj\\libs\\data-access\\src\\lib\\troubleshooting\\troubleshooting.ts/productsToPurchaseAtom", atom((get) => {
  const products = [];
  if (get(tsPanelAtom)) {
    products.push({
      product: new PanelWorkingProduct(),
      purchased: get(isPowerPurchasedAtom)
    });
  }
  if (get(tsBroadbandAtom)) {
    products.push({
      product: new BroadbandWorkingProduct(),
      purchased: get(isFiberPurchasedAtom)
    });
  }
  if (get(tsPowerAtom)) {
    const operativeModePower = get(tsOperativeModePowerCalculated$);
    products.push({
      product: new CommodityWorkingProduct(CommodityObj.POWER, operativeModePower),
      purchased: get(isPowerPurchasedAtom)
    });
  }
  if (get(tsGasAtom)) {
    const operativeModeGas = get(tsOperativeModeGasCalculated$);
    products.push({
      product: new CommodityWorkingProduct(CommodityObj.GAS, operativeModeGas),
      purchased: get(isGasPurchasedAtom)
    });
  }
  products.sort((a, b) => {
    return (b.purchased ? 1 : 0) - (a.purchased ? 1 : 0);
  });
  const indexFirstNotPurchased = products.findIndex((p) => !p.purchased);
  const purchased = products.slice(0, indexFirstNotPurchased);
  const notPurchased = combineProducts(products.slice(indexFirstNotPurchased).map((p) => p.product)).map((product) => ({
    product,
    purchased: false
  }));
  return [...purchased, ...notPurchased];
}));
productsToPurchaseAtom.debugLabel = "productsToPurchaseAtom";
export const workingProductAtom = globalThis.jotaiAtomCache.get("C:\\Users\\aintrona\\Desktop\\App\\react\\naj\\libs\\data-access\\src\\lib\\troubleshooting\\troubleshooting.ts/workingProductAtom", atom((get) => {
  const products = get(productsToPurchaseAtom);
  return products.find((p) => !p.purchased)?.product;
}));
workingProductAtom.debugLabel = "workingProductAtom";
export const singleProductAtom = globalThis.jotaiAtomCache.get("C:\\Users\\aintrona\\Desktop\\App\\react\\naj\\libs\\data-access\\src\\lib\\troubleshooting\\troubleshooting.ts/singleProductAtom", atom((get) => {
  const products = get(productsToPurchaseAtom);
  return products.length === 1;
}));
singleProductAtom.debugLabel = "singleProductAtom";
export const workingOnBroadbandAtom = globalThis.jotaiAtomCache.get("C:\\Users\\aintrona\\Desktop\\App\\react\\naj\\libs\\data-access\\src\\lib\\troubleshooting\\troubleshooting.ts/workingOnBroadbandAtom", atom((get) => {
  const product = get(workingProductAtom);
  return !!product?.broadband;
}));
workingOnBroadbandAtom.debugLabel = "workingOnBroadbandAtom";
export const workingOnPanelAtom = globalThis.jotaiAtomCache.get("C:\\Users\\aintrona\\Desktop\\App\\react\\naj\\libs\\data-access\\src\\lib\\troubleshooting\\troubleshooting.ts/workingOnPanelAtom", atom((get) => {
  const product = get(workingProductAtom);
  return !!product?.panel;
}));
workingOnPanelAtom.debugLabel = "workingOnPanelAtom";
export const workingOnPanelStandaloneAtom = globalThis.jotaiAtomCache.get("C:\\Users\\aintrona\\Desktop\\App\\react\\naj\\libs\\data-access\\src\\lib\\troubleshooting\\troubleshooting.ts/workingOnPanelStandaloneAtom", atom((get) => {
  const product = get(workingProductAtom);
  return !!(product && product.panel && !product.commodity && !product.broadband);
}));
workingOnPanelStandaloneAtom.debugLabel = "workingOnPanelStandaloneAtom";

//# sourceMappingURL=data:application/json;base64,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VztBQUM3QixDQUFDLENBQUM7QUFFRkQsa0JBQUFqRCxhQUFBO0FBR0EsYUFBQW1ELHlCQUFBdEQsV0FBQUMsZUFBQUMsSUFBQSwwSUFBc0NuQixLQUFNbUIsU0FBUTtBQUNsRCxRQUFNaUMsVUFBVWpDLElBQUlnRCxrQkFBa0I7QUFDdEMsU0FBTyxDQUFDLENBQUNmLFNBQVNvQjtBQUNwQixDQUFDLENBQUM7QUFFRkQsdUJBQUFuRCxhQUFBO0FBR0EsYUFBQXFELHFCQUFBeEQsV0FBQUMsZUFBQUMsSUFBQSxzSUFBa0NuQixLQUFNbUIsU0FBUTtBQUM5QyxRQUFNaUMsVUFBVWpDLElBQUlnRCxrQkFBa0I7QUFDdEMsU0FBTyxDQUFDLENBQUNmLFNBQVNzQjtBQUNwQixDQUFDLENBQUM7QUFFRkQsbUJBQUFyRCxhQUFBO0FBR0EsYUFBQXVELCtCQUFBMUQsV0FBQUMsZUFBQUMsSUFBQSxnSkFBNENuQixLQUFNbUIsU0FBUTtBQUN4RCxRQUFNaUMsVUFBVWpDLElBQUlnRCxrQkFBa0I7QUFDdEMsU0FBTyxDQUFDLEVBQ05mLFdBQ0FBLFFBQVFzQixTQUNSLENBQUN0QixRQUFRd0IsYUFDVCxDQUFDeEIsUUFBUW9CO0FBRWIsQ0FBQyxDQUFDO0FBQUNHLDZCQUFBdkQsYUFBQSIsIm5hbWVzIjpbImNyZWF0ZU9wdGltaXN0aWNBdG9tIiwiYXRvbSIsImF0b21XaXRoTGF6eSIsIkNvbW1vZGl0eU9iaiIsImdldEFjdGl2YXRpb25UeXBlR2FzIiwiZ2V0QWN0aXZhdGlvblR5cGVQb3dlciIsInJlc3RvcmVCcm9hZGJhbmRGcm9tVXJsIiwicmVzdG9yZUdhc0Zyb21VcmwiLCJyZXN0b3JlT3BlcmF0aXZlTW9kZUZyb21VcmwiLCJyZXN0b3JlUGFuZWxGcm9tVXJsIiwicmVzdG9yZVBvd2VyRnJvbVVybCIsInJlc3RvcmVXYW50c0NvbW1vZGl0eUZyb21VcmwiLCJPcGVyYXRpdmVNb2RlIiwiQnJvYWRiYW5kV29ya2luZ1Byb2R1Y3QiLCJjb21iaW5lUHJvZHVjdHMiLCJDb21tb2RpdHlXb3JraW5nUHJvZHVjdCIsIlBhbmVsV29ya2luZ1Byb2R1Y3QiLCJ0c1Bvd2VyQXRvbSIsImdsb2JhbFRoaXMiLCJqb3RhaUF0b21DYWNoZSIsImdldCIsImRlYnVnTGFiZWwiLCJ0c0dhc0F0b20iLCJ0c1dhbnRzQ29tbW9kaXR5QXRvbSIsInRzQnJvYWRiYW5kQXRvbSIsInRzUGFuZWxBdG9tIiwicXNPcGVyYXRpdmVNb2RlQXRvbSIsInRzT3BlcmF0aXZlTW9kZVBvd2VyQXRvbSIsInRzT3BlcmF0aXZlTW9kZVBvd2VyQ2FsY3VsYXRlZCQiLCJvcGVyYXRpdmVNb2RlIiwiYWN0aXZhdGlvblBvd2VyIiwidHNBY3RpdmF0aW9uUG93ZXIkIiwiTkVXX0FDVElWQVRJT04iLCJhY3RpdmF0aW9uVHlwZSIsIlRSQU5TRkVSIiwiU1dJVENIX0lOX1RSQU5TRkVSIiwidHNPcGVyYXRpdmVNb2RlR2FzQXRvbSIsInRzT3BlcmF0aXZlTW9kZUdhc0NhbGN1bGF0ZWQkIiwiYWN0aXZhdGlvbkdhcyIsInRzQWN0aXZhdGlvbkdhcyQiLCJjb250YXRvcmVQcmVzZW50ZSIsInVuZGVmaW5lZCIsImFwZXJ0byIsInByZWRpc3Bvc2l6aW9uZUltcGlhbnRvIiwicGxlbml0dWRlQ3VzdG9tZXIiLCJhdHRhY2NvQ29udGF0b3JlIiwiaW1waWFudG9Nb2RpZmljYXRvIiwiaXNQb3dlclB1cmNoYXNlZEF0b20iLCJpc0dhc1B1cmNoYXNlZEF0b20iLCJpc0ZpYmVyUHVyY2hhc2VkQXRvbSIsInByb2R1Y3RzVG9QdXJjaGFzZUF0b20iLCJwcm9kdWN0cyIsInB1c2giLCJwcm9kdWN0IiwicHVyY2hhc2VkIiwib3BlcmF0aXZlTW9kZVBvd2VyIiwiUE9XRVIiLCJvcGVyYXRpdmVNb2RlR2FzIiwiR0FTIiwic29ydCIsImEiLCJiIiwiaW5kZXhGaXJzdE5vdFB1cmNoYXNlZCIsImZpbmRJbmRleCIsInAiLCJzbGljZSIsIm5vdFB1cmNoYXNlZCIsIm1hcCIsIndvcmtpbmdQcm9kdWN0QXRvbSIsImZpbmQiLCJzaW5nbGVQcm9kdWN0QXRvbSIsImxlbmd0aCIsIndvcmtpbmdPbkJyb2FkYmFuZEF0b20iLCJicm9hZGJhbmQiLCJ3b3JraW5nT25QYW5lbEF0b20iLCJwYW5lbCIsIndvcmtpbmdPblBhbmVsU3RhbmRhbG9uZUF0b20iLCJjb21tb2RpdHkiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZXMiOlsidHJvdWJsZXNob290aW5nLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNyZWF0ZU9wdGltaXN0aWNBdG9tIH0gZnJvbSAnQG5hai13by91dGlsJztcclxuaW1wb3J0IHsgYXRvbSB9IGZyb20gJ2pvdGFpL2luZGV4JztcclxuaW1wb3J0IHsgYXRvbVdpdGhMYXp5IH0gZnJvbSAnam90YWkvdXRpbHMnO1xyXG5pbXBvcnQgeyBDb21tb2RpdHlPYmogfSBmcm9tICcuLi9hdG9tcy9Db21tb2RpdHlPYmonO1xyXG5pbXBvcnQge1xyXG4gIEFjdGl2YXRpb25BbnN3ZXJzR2FzLFxyXG4gIEFjdGl2YXRpb25BbnN3ZXJzUG93ZXIsXHJcbiAgZ2V0QWN0aXZhdGlvblR5cGVHYXMsXHJcbiAgZ2V0QWN0aXZhdGlvblR5cGVQb3dlcixcclxufSBmcm9tICcuL2FjdGl2YXRpb24tcXVlc3Rpb25zJztcclxuaW1wb3J0IHtcclxuICByZXN0b3JlQnJvYWRiYW5kRnJvbVVybCxcclxuICByZXN0b3JlR2FzRnJvbVVybCxcclxuICByZXN0b3JlT3BlcmF0aXZlTW9kZUZyb21VcmwsXHJcbiAgcmVzdG9yZVBhbmVsRnJvbVVybCxcclxuICByZXN0b3JlUG93ZXJGcm9tVXJsLFxyXG4gIHJlc3RvcmVXYW50c0NvbW1vZGl0eUZyb21VcmwsXHJcbn0gZnJvbSAnLi9zdGF0ZS11cmwnO1xyXG5pbXBvcnQgeyBPcGVyYXRpdmVNb2RlIH0gZnJvbSAnLi90eXBlcyc7XHJcbmltcG9ydCB7XHJcbiAgQnJvYWRiYW5kV29ya2luZ1Byb2R1Y3QsXHJcbiAgY29tYmluZVByb2R1Y3RzLFxyXG4gIENvbW1vZGl0eVdvcmtpbmdQcm9kdWN0LFxyXG4gIFBhbmVsV29ya2luZ1Byb2R1Y3QsXHJcbiAgV29ya2luZ1Byb2R1Y3QsXHJcbn0gZnJvbSAnLi9Xb3JraW5nUHJvZHVjdCc7XHJcblxyXG4vKipcclxuICogUmV0dXJucyBpZiB0aGUgdXNlciB3YW50cyB0byBidXkgdGhlIHBvd2VyIGNvbW1vZGl0eS5cclxuICogV2FybmluZzogbXVzdCBub3QgYmUgYXN5bmMhXHJcbiAqL1xyXG5leHBvcnQgY29uc3QgdHNQb3dlckF0b20gPSBhdG9tV2l0aExhenkocmVzdG9yZVBvd2VyRnJvbVVybCk7XHJcblxyXG4vKipcclxuICogUmV0dXJucyBpZiB0aGUgdXNlciB3YW50cyB0byBidXkgdGhlIGdhcyBjb21tb2RpdHkuXHJcbiAqIFdhcm5pbmc6IG11c3Qgbm90IGJlIGFzeW5jIVxyXG4gKi9cclxuZXhwb3J0IGNvbnN0IHRzR2FzQXRvbSA9IGF0b21XaXRoTGF6eShyZXN0b3JlR2FzRnJvbVVybCk7XHJcblxyXG4vKipcclxuICogUmV0dXJucyBpZiB0aGUgdXNlciB3YW50cyB0byBidXkgYSBwb3dlci9nYXMgY29tbW9kaXR5LlxyXG4gKiBXYXJuaW5nOiBtdXN0IG5vdCBiZSBhc3luYyFcclxuICovXHJcbmV4cG9ydCBjb25zdCB0c1dhbnRzQ29tbW9kaXR5QXRvbSA9IGF0b21XaXRoTGF6eShyZXN0b3JlV2FudHNDb21tb2RpdHlGcm9tVXJsKTtcclxuXHJcbi8qKlxyXG4gKiBSZXR1cm5zIGlmIHRoZSB1c2VyIHdhbnRzIHRvIGJ1eSB0aGUgYnJvYWRiYW5kLlxyXG4gKiBXYXJuaW5nOiBtdXN0IG5vdCBiZSBhc3luYyFcclxuICovXHJcbmV4cG9ydCBjb25zdCB0c0Jyb2FkYmFuZEF0b20gPSBhdG9tV2l0aExhenkocmVzdG9yZUJyb2FkYmFuZEZyb21VcmwpO1xyXG5cclxuLyoqXHJcbiAqIFJldHVybnMgaWYgdGhlIHVzZXIgd2FudHMgdG8gYnV5IGEgdmlydHVhbCBwYW5lbC5cclxuICogV2FybmluZzogbXVzdCBub3QgYmUgYXN5bmMhXHJcbiAqL1xyXG5leHBvcnQgY29uc3QgdHNQYW5lbEF0b20gPSBhdG9tV2l0aExhenkocmVzdG9yZVBhbmVsRnJvbVVybCk7XHJcblxyXG4vKipcclxuICogT3BlcmF0aXZlIG1vZGUgZnJvbSBxdWVyeXN0cmluZy4gU2hvdWxkIG5ldmVyIGNoYW5nZSwgc2hvdWxkIGJlIHNldCBvbmx5IGR1cmluZyBsZWFkIGxvYWRpbmcuXHJcbiAqL1xyXG5leHBvcnQgY29uc3QgcXNPcGVyYXRpdmVNb2RlQXRvbSA9IGF0b21XaXRoTGF6eShyZXN0b3JlT3BlcmF0aXZlTW9kZUZyb21VcmwpO1xyXG5cclxuLyoqXHJcbiAqIE9wZXJhdGl2ZSBtb2RlIHNlbGVjdGVkIGZvciBwb3dlciBjb21tb2RpdHksIHVzZWQgZHVyaW5nIHRoZSB0cm91Ymxlc2hvb3RpbmcgYW5kIHRvIGRldGVybWluZSB0aGUgd29ya2luZyBwcm9kdWN0LlxyXG4gKiBTdG9yZSB0aGUgdXNlciBjaG9pY2UgaW4gdGhlIFN0ZXAgXCJPcGVyYXRpdmUgTW9kZVwiLlxyXG4gKi9cclxuZXhwb3J0IGNvbnN0IHRzT3BlcmF0aXZlTW9kZVBvd2VyQXRvbSA9IGNyZWF0ZU9wdGltaXN0aWNBdG9tKFxyXG4gIGF0b21XaXRoTGF6eShyZXN0b3JlT3BlcmF0aXZlTW9kZUZyb21VcmwpXHJcbik7XHJcblxyXG4vKipcclxuICogT3BlcmF0aXZlIG1vZGUgc2VsZWN0ZWQgZm9yIHBvd2VyIGNvbW1vZGl0eSwgdXNlZCBkdXJpbmcgdGhlIHRyb3VibGVzaG9vdGluZyBhbmQgdG8gZGV0ZXJtaW5lIHRoZSB3b3JraW5nIHByb2R1Y3QuXHJcbiAqIE9wZXJhdGl2ZSBNb2RlIGlzIFwiTkVXX0FDVElWQVRJT05cIiBjYW4gYmUgdHJhbnNmb3JtZWQgaW4gVFJBTlNGRVIvU1dJVENIX0lOX1RSQU5TRkVSLlxyXG4gKi9cclxuZXhwb3J0IGNvbnN0IHRzT3BlcmF0aXZlTW9kZVBvd2VyQ2FsY3VsYXRlZCQgPSBhdG9tKChnZXQpID0+IHtcclxuICBjb25zdCBvcGVyYXRpdmVNb2RlID0gZ2V0KHRzT3BlcmF0aXZlTW9kZVBvd2VyQXRvbSk7XHJcbiAgY29uc3QgYWN0aXZhdGlvblBvd2VyID0gZ2V0KHRzQWN0aXZhdGlvblBvd2VyJCk7XHJcblxyXG4gIGlmIChvcGVyYXRpdmVNb2RlID09PSBPcGVyYXRpdmVNb2RlLk5FV19BQ1RJVkFUSU9OKSB7XHJcbiAgICBjb25zdCBhY3RpdmF0aW9uVHlwZSA9IGdldEFjdGl2YXRpb25UeXBlUG93ZXIoYWN0aXZhdGlvblBvd2VyKTtcclxuICAgIGlmIChhY3RpdmF0aW9uVHlwZSA9PT0gJ1ZvbHR1cmEgbHVjZScpIHtcclxuICAgICAgcmV0dXJuIE9wZXJhdGl2ZU1vZGUuVFJBTlNGRVI7XHJcbiAgICB9XHJcbiAgICBpZiAoYWN0aXZhdGlvblR5cGUgPT09ICdBdHRpdmFyZSB1buKAmW9mZmVydGEgY29uIHZvbHR1cmEnKSB7XHJcbiAgICAgIHJldHVybiBPcGVyYXRpdmVNb2RlLlNXSVRDSF9JTl9UUkFOU0ZFUjtcclxuICAgIH1cclxuICB9XHJcbiAgcmV0dXJuIG9wZXJhdGl2ZU1vZGU7XHJcbn0pO1xyXG5cclxuLyoqXHJcbiAqIE9wZXJhdGl2ZSBtb2RlIHNlbGVjdGVkIGZvciBnYXMgY29tbW9kaXR5LCB1c2VkIGR1cmluZyB0aGUgdHJvdWJsZXNob290aW5nIGFuZCB0byBkZXRlcm1pbmUgdGhlIHdvcmtpbmcgcHJvZHVjdC5cclxuICogU3RvcmUgdGhlIHVzZXIgY2hvaWNlIGluIHRoZSBTdGVwIFwiT3BlcmF0aXZlIE1vZGVcIi5cclxuICovXHJcbmV4cG9ydCBjb25zdCB0c09wZXJhdGl2ZU1vZGVHYXNBdG9tID0gY3JlYXRlT3B0aW1pc3RpY0F0b20oXHJcbiAgYXRvbVdpdGhMYXp5KHJlc3RvcmVPcGVyYXRpdmVNb2RlRnJvbVVybClcclxuKTtcclxuXHJcbi8qKlxyXG4gKiBPcGVyYXRpdmUgbW9kZSBzZWxlY3RlZCBmb3IgZ2FzIGNvbW1vZGl0eSwgdXNlZCBkdXJpbmcgdGhlIHRyb3VibGVzaG9vdGluZyBhbmQgdG8gZGV0ZXJtaW5lIHRoZSB3b3JraW5nIHByb2R1Y3QuXHJcbiAqIE9wZXJhdGl2ZSBNb2RlIGlzIFwiTkVXX0FDVElWQVRJT05cIiBjYW4gYmUgdHJhbnNmb3JtZWQgaW4gVFJBTlNGRVIuXHJcbiAqL1xyXG5leHBvcnQgY29uc3QgdHNPcGVyYXRpdmVNb2RlR2FzQ2FsY3VsYXRlZCQgPSBhdG9tKChnZXQpID0+IHtcclxuICBjb25zdCBvcGVyYXRpdmVNb2RlID0gZ2V0KHRzT3BlcmF0aXZlTW9kZUdhc0F0b20pO1xyXG4gIGNvbnN0IGFjdGl2YXRpb25HYXMgPSBnZXQodHNBY3RpdmF0aW9uR2FzJCk7XHJcblxyXG4gIGlmIChvcGVyYXRpdmVNb2RlID09PSBPcGVyYXRpdmVNb2RlLk5FV19BQ1RJVkFUSU9OKSB7XHJcbiAgICBjb25zdCBhY3RpdmF0aW9uVHlwZSA9IGdldEFjdGl2YXRpb25UeXBlR2FzKGFjdGl2YXRpb25HYXMpO1xyXG4gICAgaWYgKGFjdGl2YXRpb25UeXBlID09PSAnVm9sdHVyYSBnYXMnKSB7XHJcbiAgICAgIHJldHVybiBPcGVyYXRpdmVNb2RlLlRSQU5TRkVSO1xyXG4gICAgfVxyXG4gIH1cclxuICByZXR1cm4gb3BlcmF0aXZlTW9kZTtcclxufSk7XHJcblxyXG4vKipcclxuICogQW5zd2VycyBmb3IgcG93ZXIgYWN0aXZhdGlvbiBpbiB0cm91Ymxlc2hvb3RpbmcuXHJcbiAqL1xyXG5leHBvcnQgY29uc3QgdHNBY3RpdmF0aW9uUG93ZXIkID0gYXRvbTxBY3RpdmF0aW9uQW5zd2Vyc1Bvd2VyPih7XHJcbiAgY29udGF0b3JlUHJlc2VudGU6IHVuZGVmaW5lZCxcclxuICBhcGVydG86IHVuZGVmaW5lZCxcclxuICBwcmVkaXNwb3NpemlvbmVJbXBpYW50bzogdW5kZWZpbmVkLFxyXG4gIHBsZW5pdHVkZUN1c3RvbWVyOiB1bmRlZmluZWQsXHJcbn0pO1xyXG5cclxuLyoqXHJcbiAqIEFuc3dlcnMgZm9yIGdhcyBhY3RpdmF0aW9uIGluIHRyb3VibGVzaG9vdGluZy5cclxuICovXHJcbmV4cG9ydCBjb25zdCB0c0FjdGl2YXRpb25HYXMkID0gYXRvbTxBY3RpdmF0aW9uQW5zd2Vyc0dhcz4oe1xyXG4gIGNvbnRhdG9yZVByZXNlbnRlOiB1bmRlZmluZWQsXHJcbiAgYXBlcnRvOiB1bmRlZmluZWQsXHJcbiAgYXR0YWNjb0NvbnRhdG9yZTogdW5kZWZpbmVkLFxyXG4gIGltcGlhbnRvTW9kaWZpY2F0bzogdW5kZWZpbmVkLFxyXG59KTtcclxuXHJcbmNvbnN0IGlzUG93ZXJQdXJjaGFzZWRBdG9tID0gYXRvbTxib29sZWFuPihmYWxzZSk7XHJcbmNvbnN0IGlzR2FzUHVyY2hhc2VkQXRvbSA9IGF0b208Ym9vbGVhbj4oZmFsc2UpO1xyXG5jb25zdCBpc0ZpYmVyUHVyY2hhc2VkQXRvbSA9IGF0b208Ym9vbGVhbj4oZmFsc2UpO1xyXG5cclxuLyoqXHJcbiAqIFRoZSBsaXN0IG9mIHRoZSBwcm9kdWN0cyB0aGF0IHRoZSB1c2VyIHdhbnRzIHRvIHB1cmNoYXNlLlxyXG4gKi9cclxuZXhwb3J0IGNvbnN0IHByb2R1Y3RzVG9QdXJjaGFzZUF0b20gPSBhdG9tKChnZXQpID0+IHtcclxuICBjb25zdCBwcm9kdWN0czogeyBwcm9kdWN0OiBXb3JraW5nUHJvZHVjdDsgcHVyY2hhc2VkOiBib29sZWFuIH1bXSA9IFtdO1xyXG5cclxuICBpZiAoZ2V0KHRzUGFuZWxBdG9tKSkge1xyXG4gICAgcHJvZHVjdHMucHVzaCh7XHJcbiAgICAgIHByb2R1Y3Q6IG5ldyBQYW5lbFdvcmtpbmdQcm9kdWN0KCksXHJcbiAgICAgIHB1cmNoYXNlZDogZ2V0KGlzUG93ZXJQdXJjaGFzZWRBdG9tKSxcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgaWYgKGdldCh0c0Jyb2FkYmFuZEF0b20pKSB7XHJcbiAgICBwcm9kdWN0cy5wdXNoKHtcclxuICAgICAgcHJvZHVjdDogbmV3IEJyb2FkYmFuZFdvcmtpbmdQcm9kdWN0KCksXHJcbiAgICAgIHB1cmNoYXNlZDogZ2V0KGlzRmliZXJQdXJjaGFzZWRBdG9tKSxcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgaWYgKGdldCh0c1Bvd2VyQXRvbSkpIHtcclxuICAgIGNvbnN0IG9wZXJhdGl2ZU1vZGVQb3dlciA9IGdldCh0c09wZXJhdGl2ZU1vZGVQb3dlckNhbGN1bGF0ZWQkKTtcclxuICAgIHByb2R1Y3RzLnB1c2goe1xyXG4gICAgICBwcm9kdWN0OiBuZXcgQ29tbW9kaXR5V29ya2luZ1Byb2R1Y3QoXHJcbiAgICAgICAgQ29tbW9kaXR5T2JqLlBPV0VSLFxyXG4gICAgICAgIG9wZXJhdGl2ZU1vZGVQb3dlclxyXG4gICAgICApLFxyXG4gICAgICBwdXJjaGFzZWQ6IGdldChpc1Bvd2VyUHVyY2hhc2VkQXRvbSksXHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGlmIChnZXQodHNHYXNBdG9tKSkge1xyXG4gICAgY29uc3Qgb3BlcmF0aXZlTW9kZUdhcyA9IGdldCh0c09wZXJhdGl2ZU1vZGVHYXNDYWxjdWxhdGVkJCk7XHJcbiAgICBwcm9kdWN0cy5wdXNoKHtcclxuICAgICAgcHJvZHVjdDogbmV3IENvbW1vZGl0eVdvcmtpbmdQcm9kdWN0KENvbW1vZGl0eU9iai5HQVMsIG9wZXJhdGl2ZU1vZGVHYXMpLFxyXG4gICAgICBwdXJjaGFzZWQ6IGdldChpc0dhc1B1cmNoYXNlZEF0b20pLFxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICAvLyBTb3J0IG1vdmluZyBwdXJjaGFzZWQgYmVmb3JlIG5vdCBwdXJjaGFzZWQuXHJcbiAgcHJvZHVjdHMuc29ydCgoYSwgYikgPT4ge1xyXG4gICAgcmV0dXJuIChiLnB1cmNoYXNlZCA/IDEgOiAwKSAtIChhLnB1cmNoYXNlZCA/IDEgOiAwKTtcclxuICB9KTtcclxuXHJcbiAgY29uc3QgaW5kZXhGaXJzdE5vdFB1cmNoYXNlZCA9IHByb2R1Y3RzLmZpbmRJbmRleCgocCkgPT4gIXAucHVyY2hhc2VkKTtcclxuICBjb25zdCBwdXJjaGFzZWQgPSBwcm9kdWN0cy5zbGljZSgwLCBpbmRleEZpcnN0Tm90UHVyY2hhc2VkKTtcclxuICBjb25zdCBub3RQdXJjaGFzZWQgPSBjb21iaW5lUHJvZHVjdHMoXHJcbiAgICBwcm9kdWN0cy5zbGljZShpbmRleEZpcnN0Tm90UHVyY2hhc2VkKS5tYXAoKHApID0+IHAucHJvZHVjdClcclxuICApLm1hcCgocHJvZHVjdCkgPT4gKHtcclxuICAgIHByb2R1Y3Q6IHByb2R1Y3QsXHJcbiAgICBwdXJjaGFzZWQ6IGZhbHNlLFxyXG4gIH0pKTtcclxuXHJcbiAgcmV0dXJuIFsuLi5wdXJjaGFzZWQsIC4uLm5vdFB1cmNoYXNlZF07XHJcbn0pO1xyXG5cclxuLyoqXHJcbiAqIFRoZSBwcm9kdWN0IHRoYXQgdGhlIHVzZXIgaXMgY3VycmVudGx5IGN1c3RvbWl6aW5nXHJcbiAqL1xyXG5leHBvcnQgY29uc3Qgd29ya2luZ1Byb2R1Y3RBdG9tID0gYXRvbSgoZ2V0KSA9PiB7XHJcbiAgY29uc3QgcHJvZHVjdHMgPSBnZXQocHJvZHVjdHNUb1B1cmNoYXNlQXRvbSk7XHJcbiAgcmV0dXJuIHByb2R1Y3RzLmZpbmQoKHApID0+ICFwLnB1cmNoYXNlZCk/LnByb2R1Y3Q7XHJcbn0pO1xyXG4vKipcclxuICogVGhlIHVzZXIgaGFzIG9ubHkgb25lIHByb2R1Y3QgdG8gcHVyY2hhc2UuXHJcbiAqL1xyXG5leHBvcnQgY29uc3Qgc2luZ2xlUHJvZHVjdEF0b20gPSBhdG9tKChnZXQpID0+IHtcclxuICBjb25zdCBwcm9kdWN0cyA9IGdldChwcm9kdWN0c1RvUHVyY2hhc2VBdG9tKTtcclxuICByZXR1cm4gcHJvZHVjdHMubGVuZ3RoID09PSAxO1xyXG59KTtcclxuXHJcbi8qKlxyXG4gKiBTaG91bGQgc2hvdyBmaWJlciBzdGVwc1xyXG4gKi9cclxuZXhwb3J0IGNvbnN0IHdvcmtpbmdPbkJyb2FkYmFuZEF0b20gPSBhdG9tKChnZXQpID0+IHtcclxuICBjb25zdCBwcm9kdWN0ID0gZ2V0KHdvcmtpbmdQcm9kdWN0QXRvbSk7XHJcbiAgcmV0dXJuICEhcHJvZHVjdD8uYnJvYWRiYW5kO1xyXG59KTtcclxuXHJcbi8qKlxyXG4gKiBTaG91bGQgc2hvdyBwYW5lbCBzdGVwc1xyXG4gKi9cclxuZXhwb3J0IGNvbnN0IHdvcmtpbmdPblBhbmVsQXRvbSA9IGF0b20oKGdldCkgPT4ge1xyXG4gIGNvbnN0IHByb2R1Y3QgPSBnZXQod29ya2luZ1Byb2R1Y3RBdG9tKTtcclxuICByZXR1cm4gISFwcm9kdWN0Py5wYW5lbDtcclxufSk7XHJcblxyXG4vKipcclxuICogU2hvdWxkIHNob3cgb25seSBwYW5lbCBzdGVwc1xyXG4gKi9cclxuZXhwb3J0IGNvbnN0IHdvcmtpbmdPblBhbmVsU3RhbmRhbG9uZUF0b20gPSBhdG9tKChnZXQpID0+IHtcclxuICBjb25zdCBwcm9kdWN0ID0gZ2V0KHdvcmtpbmdQcm9kdWN0QXRvbSk7XHJcbiAgcmV0dXJuICEhKFxyXG4gICAgcHJvZHVjdCAmJlxyXG4gICAgcHJvZHVjdC5wYW5lbCAmJlxyXG4gICAgIXByb2R1Y3QuY29tbW9kaXR5ICYmXHJcbiAgICAhcHJvZHVjdC5icm9hZGJhbmRcclxuICApO1xyXG59KTtcclxuIl0sImZpbGUiOiJDOi9Vc2Vycy9haW50cm9uYS9EZXNrdG9wL0FwcC9yZWFjdC9uYWovbGlicy9kYXRhLWFjY2Vzcy9zcmMvbGliL3Ryb3VibGVzaG9vdGluZy90cm91Ymxlc2hvb3RpbmcudHMifQ==